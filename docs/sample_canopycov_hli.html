<!DOCTYPE html>
<html lang="en-US" xml:lang="en-US">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Section 5 Sample by Canopy Cover and HLI | Black Hills Experimental Forest Prescribed Fire Planning</title>
  <meta name="description" content="Using the bookdown package to write a book for BHEF Rx fire planning. The output format for this example is bookdown::gitbook." />
  <meta name="generator" content="bookdown 0.32 and GitBook 2.6.7" />

  <meta property="og:title" content="Section 5 Sample by Canopy Cover and HLI | Black Hills Experimental Forest Prescribed Fire Planning" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Using the bookdown package to write a book for BHEF Rx fire planning. The output format for this example is bookdown::gitbook." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Section 5 Sample by Canopy Cover and HLI | Black Hills Experimental Forest Prescribed Fire Planning" />
  
  <meta name="twitter:description" content="Using the bookdown package to write a book for BHEF Rx fire planning. The output format for this example is bookdown::gitbook." />
  

<meta name="author" content="George Woolsey" />


<meta name="date" content="2023-06-04" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="cover_analysis.html"/>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.6.1/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.1.1/leaflet.js"></script>
<script src="libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script>
<script src="libs/leaflet-providers-plugin-2.1.1/leaflet-providers-plugin.js"></script>
<script src="libs/crowncov_8b4c0a-1/data_stars_crowncovbea524.txt"></script>
<script src="libs/joda-0.0.1/joda.js"></script>
<script src="libs/joda-0.0.1/addImageQuery-bindings.js"></script>
<script src="libs/clipboard-0.0.1/setClipboardText.js"></script>
<link href="libs/mapviewCSS-0.0.1/mapview-popup.css" rel="stylesheet" />
<link href="libs/mapviewCSS-0.0.1/mapview.css" rel="stylesheet" />
<script src="libs/hli_19bf8a-1/data_stars_hlia6923d.txt"></script>
<script type="text/javascript">

// toggle visibility of R source blocks in R Markdown output
function toggle_R() {
  var x = document.getElementsByClassName('r');
  if (x.length == 0) return;
  function toggle_vis(o) {
    var d = o.style.display;
    o.style.display = (d == 'block' || d == '') ? 'none':'block';
  }

  for (i = 0; i < x.length; i++) {
    var y = x[i];
    if (y.tagName.toLowerCase() === 'pre') toggle_vis(y);
  }

    var elem = document.getElementById("myButton1");
    if (elem.value === "Hide Code") elem.value = "Show Code";
    else elem.value = "Hide Code";
}

document.write('<input onclick="toggle_R();" type="button" value="Hide Code" id="myButton1" style="position: absolute; top: 10%; right: 2%; z-index: 200"></input>')

</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="vector_data.html"><a href="vector_data.html"><i class="fa fa-check"></i><b>2</b> Import Vector Data</a>
<ul>
<li class="chapter" data-level="2.1" data-path="vector_data.html"><a href="vector_data.html#national-forest-management-data-download"><i class="fa fa-check"></i><b>2.1</b> National Forest Management data download</a></li>
<li class="chapter" data-level="2.2" data-path="vector_data.html"><a href="vector_data.html#load-research-plot-data"><i class="fa fa-check"></i><b>2.2</b> Load Research Plot data</a></li>
<li class="chapter" data-level="2.3" data-path="vector_data.html"><a href="vector_data.html#load-stem-map-data"><i class="fa fa-check"></i><b>2.3</b> Load Stem Map data</a></li>
<li class="chapter" data-level="2.4" data-path="vector_data.html"><a href="vector_data.html#load-rx-fire-shapefile"><i class="fa fa-check"></i><b>2.4</b> Load Rx Fire shapefile</a></li>
<li class="chapter" data-level="2.5" data-path="vector_data.html"><a href="vector_data.html#load-national-forests-shapefile"><i class="fa fa-check"></i><b>2.5</b> Load National Forests shapefile</a></li>
<li class="chapter" data-level="2.6" data-path="vector_data.html"><a href="vector_data.html#load-experimental-forests-shapefile"><i class="fa fa-check"></i><b>2.6</b> Load Experimental Forests shapefile</a></li>
<li class="chapter" data-level="2.7" data-path="vector_data.html"><a href="vector_data.html#tsi"><i class="fa fa-check"></i><b>2.7</b> Load FACTS Timber Stand Improvement</a></li>
<li class="chapter" data-level="2.8" data-path="vector_data.html"><a href="vector_data.html#harvests"><i class="fa fa-check"></i><b>2.8</b> Load FACTS Timber Harvests</a>
<ul>
<li class="chapter" data-level="2.8.1" data-path="vector_data.html"><a href="vector_data.html#harvests-by-treatment-type"><i class="fa fa-check"></i><b>2.8.1</b> Harvests by treatment type</a></li>
</ul></li>
<li class="chapter" data-level="2.9" data-path="vector_data.html"><a href="vector_data.html#join-research-plot-to-harvest"><i class="fa fa-check"></i><b>2.9</b> Join Research Plot to Harvest</a></li>
<li class="chapter" data-level="2.10" data-path="vector_data.html"><a href="vector_data.html#join-stem-map-to-research-plot-harvest"><i class="fa fa-check"></i><b>2.10</b> Join Stem Map to Research Plot &amp; Harvest</a>
<ul>
<li class="chapter" data-level="2.10.1" data-path="vector_data.html"><a href="vector_data.html#stem-map-descriptive-statistics."><i class="fa fa-check"></i><b>2.10.1</b> Stem Map Descriptive statistics.</a></li>
</ul></li>
<li class="chapter" data-level="2.11" data-path="vector_data.html"><a href="vector_data.html#map-harvests-research-plots-stem-map"><i class="fa fa-check"></i><b>2.11</b> Map Harvests, Research Plots, Stem Map</a></li>
<li class="chapter" data-level="2.12" data-path="vector_data.html"><a href="vector_data.html#write-out-data"><i class="fa fa-check"></i><b>2.12</b> Write Out Data</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="lidar_data.html"><a href="lidar_data.html"><i class="fa fa-check"></i><b>3</b> Analyze Lidar Data</a>
<ul>
<li class="chapter" data-level="3.1" data-path="lidar_data.html"><a href="lidar_data.html#overwrite-data-switch"><i class="fa fa-check"></i><b>3.1</b> Overwrite Data Switch</a></li>
<li class="chapter" data-level="3.2" data-path="lidar_data.html"><a href="lidar_data.html#download-data-from-natl-map"><i class="fa fa-check"></i><b>3.2</b> Download Data From Nat’l Map</a></li>
<li class="chapter" data-level="3.3" data-path="lidar_data.html"><a href="lidar_data.html#load-vector-data"><i class="fa fa-check"></i><b>3.3</b> Load Vector Data</a></li>
<li class="chapter" data-level="3.4" data-path="lidar_data.html"><a href="lidar_data.html#load-elevation-data"><i class="fa fa-check"></i><b>3.4</b> Load Elevation Data</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="lidar_data.html"><a href="lidar_data.html#elevation-plot"><i class="fa fa-check"></i><b>3.4.1</b> Elevation plot</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="lidar_data.html"><a href="lidar_data.html#lidar-data-processing"><i class="fa fa-check"></i><b>3.5</b> Lidar Data Processing</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="lidar_data.html"><a href="lidar_data.html#height-normalization-using-dem"><i class="fa fa-check"></i><b>3.5.1</b> Height normalization using DEM</a></li>
<li class="chapter" data-level="3.5.2" data-path="lidar_data.html"><a href="lidar_data.html#canopy-height-model"><i class="fa fa-check"></i><b>3.5.2</b> Canopy Height model</a></li>
<li class="chapter" data-level="3.5.3" data-path="lidar_data.html"><a href="lidar_data.html#individual-tree-detection-itd"><i class="fa fa-check"></i><b>3.5.3</b> Individual Tree Detection (ITD)</a></li>
<li class="chapter" data-level="3.5.4" data-path="lidar_data.html"><a href="lidar_data.html#itc"><i class="fa fa-check"></i><b>3.5.4</b> Individual Tree Crown (ITC) Segmentation</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="lidar_data.html"><a href="lidar_data.html#lidar-derived-crown-groups-summary"><i class="fa fa-check"></i><b>3.6</b> Lidar-Derived Crown Groups Summary</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="lidar_data.html"><a href="lidar_data.html#cg_sum"><i class="fa fa-check"></i><b>3.6.1</b> Crown Group Summary Statistics</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="lidar_data.html"><a href="lidar_data.html#map-crowns-and-rx-fire-area"><i class="fa fa-check"></i><b>3.7</b> Map Crowns and Rx Fire Area</a></li>
<li class="chapter" data-level="3.8" data-path="lidar_data.html"><a href="lidar_data.html#write-out-data-1"><i class="fa fa-check"></i><b>3.8</b> Write Out Data</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="cover_analysis.html"><a href="cover_analysis.html"><i class="fa fa-check"></i><b>4</b> Forest Cover Analysis</a>
<ul>
<li class="chapter" data-level="4.1" data-path="cover_analysis.html"><a href="cover_analysis.html#set-contour-line-interval"><i class="fa fa-check"></i><b>4.1</b> Set Contour Line Interval</a></li>
<li class="chapter" data-level="4.2" data-path="cover_analysis.html"><a href="cover_analysis.html#read-data"><i class="fa fa-check"></i><b>4.2</b> Read Data</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="cover_analysis.html"><a href="cover_analysis.html#data-preparation"><i class="fa fa-check"></i><b>4.2.1</b> Data Preparation</a></li>
<li class="chapter" data-level="4.2.2" data-path="cover_analysis.html"><a href="cover_analysis.html#read-naip-data"><i class="fa fa-check"></i><b>4.2.2</b> Read NAIP Data</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="cover_analysis.html"><a href="cover_analysis.html#post-lidar-acquisition-treatment"><i class="fa fa-check"></i><b>4.3</b> Post-Lidar Acquisition Treatment</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="cover_analysis.html"><a href="cover_analysis.html#join-treatments-to-rx-fire-units"><i class="fa fa-check"></i><b>4.3.1</b> Join Treatments to Rx Fire Units</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="cover_analysis.html"><a href="cover_analysis.html#forest-cover-summary"><i class="fa fa-check"></i><b>4.4</b> Forest Cover Summary</a></li>
<li class="chapter" data-level="4.5" data-path="cover_analysis.html"><a href="cover_analysis.html#total-area-by-crown-group-class"><i class="fa fa-check"></i><b>4.5</b> Total Area by Crown Group Class</a></li>
<li class="chapter" data-level="4.6" data-path="cover_analysis.html"><a href="cover_analysis.html#no-treatment-post-lidar-area-by-crown-group-class"><i class="fa fa-check"></i><b>4.6</b> No Treatment Post-Lidar Area by Crown Group Class</a></li>
<li class="chapter" data-level="4.7" data-path="cover_analysis.html"><a href="cover_analysis.html#spatial-arrangement-by-crown-group-class"><i class="fa fa-check"></i><b>4.7</b> Spatial Arrangement by Crown Group Class</a></li>
<li class="chapter" data-level="4.8" data-path="cover_analysis.html"><a href="cover_analysis.html#rx-fire-unit-summary"><i class="fa fa-check"></i><b>4.8</b> Rx Fire Unit Summary</a>
<ul>
<li class="chapter" data-level="4.8.1" data-path="cover_analysis.html"><a href="cover_analysis.html#rx-fire-unit-cover-class"><i class="fa fa-check"></i><b>4.8.1</b> Rx Fire Unit Cover Class</a></li>
<li class="chapter" data-level="4.8.2" data-path="cover_analysis.html"><a href="cover_analysis.html#rx-fire-unit-cover-map"><i class="fa fa-check"></i><b>4.8.2</b> Rx Fire Unit Cover Map</a></li>
<li class="chapter" data-level="4.8.3" data-path="cover_analysis.html"><a href="cover_analysis.html#rx-fire-unit-contour"><i class="fa fa-check"></i><b>4.8.3</b> Rx Fire Unit Contour</a></li>
<li class="chapter" data-level="4.8.4" data-path="cover_analysis.html"><a href="cover_analysis.html#rx-fire-unit-insert"><i class="fa fa-check"></i><b>4.8.4</b> Rx Fire Unit Insert</a></li>
</ul></li>
<li class="chapter" data-level="4.9" data-path="cover_analysis.html"><a href="cover_analysis.html#rx-fire-info-sheets"><i class="fa fa-check"></i><b>4.9</b> Rx Fire Info Sheets</a></li>
<li class="chapter" data-level="4.10" data-path="cover_analysis.html"><a href="cover_analysis.html#rx-fire-info-packet"><i class="fa fa-check"></i><b>4.10</b> Rx Fire Info Packet</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="sample_canopycov_hli.html"><a href="sample_canopycov_hli.html"><i class="fa fa-check"></i><b>5</b> Sample by Canopy Cover and HLI</a>
<ul>
<li class="chapter" data-level="5.1" data-path="sample_canopycov_hli.html"><a href="sample_canopycov_hli.html#read-data-1"><i class="fa fa-check"></i><b>5.1</b> Read Data</a></li>
<li class="chapter" data-level="5.2" data-path="sample_canopycov_hli.html"><a href="sample_canopycov_hli.html#hli"><i class="fa fa-check"></i><b>5.2</b> Aspect and HLI</a></li>
<li class="chapter" data-level="5.3" data-path="sample_canopycov_hli.html"><a href="sample_canopycov_hli.html#tree-canopy-cover"><i class="fa fa-check"></i><b>5.3</b> Tree Canopy Cover</a></li>
<li class="chapter" data-level="5.4" data-path="sample_canopycov_hli.html"><a href="sample_canopycov_hli.html#aggregate-and-crop-to-rx-fire-units"><i class="fa fa-check"></i><b>5.4</b> Aggregate and Crop to Rx fire Units</a></li>
<li class="chapter" data-level="5.5" data-path="sample_canopycov_hli.html"><a href="sample_canopycov_hli.html#classify-raster-grid"><i class="fa fa-check"></i><b>5.5</b> Classify Raster Grid</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="sample_canopycov_hli.html"><a href="sample_canopycov_hli.html#cutpoints"><i class="fa fa-check"></i><b>5.5.1</b> Cutpoints</a></li>
<li class="chapter" data-level="5.5.2" data-path="sample_canopycov_hli.html"><a href="sample_canopycov_hli.html#canopy-cover-and-hli-group-map"><i class="fa fa-check"></i><b>5.5.2</b> Canopy Cover and HLI Group Map</a></li>
<li class="chapter" data-level="5.5.3" data-path="sample_canopycov_hli.html"><a href="sample_canopycov_hli.html#map-of-grouped-canopy-cover-and-hli"><i class="fa fa-check"></i><b>5.5.3</b> Map of grouped Canopy Cover and HLI</a></li>
<li class="chapter" data-level="5.5.4" data-path="sample_canopycov_hli.html"><a href="sample_canopycov_hli.html#combine-grouped-canopy-cover-and-hli"><i class="fa fa-check"></i><b>5.5.4</b> Combine Grouped Canopy Cover and HLI</a></li>
<li class="chapter" data-level="5.5.5" data-path="sample_canopycov_hli.html"><a href="sample_canopycov_hli.html#example-rx-fire-unit"><i class="fa fa-check"></i><b>5.5.5</b> Example Rx Fire Unit</a></li>
<li class="chapter" data-level="5.5.6" data-path="sample_canopycov_hli.html"><a href="sample_canopycov_hli.html#distribution-of-canopy-cover-and-hli-by-rx-fire-unit"><i class="fa fa-check"></i><b>5.5.6</b> Distribution of Canopy Cover and HLI by Rx Fire Unit</a></li>
<li class="chapter" data-level="5.5.7" data-path="sample_canopycov_hli.html"><a href="sample_canopycov_hli.html#matrix-of-canopy-cover-and-hli-by-rx-fire-unit"><i class="fa fa-check"></i><b>5.5.7</b> Matrix of Canopy Cover and HLI by Rx Fire Unit</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="sample_canopycov_hli.html"><a href="sample_canopycov_hli.html#sample-order-and-export"><i class="fa fa-check"></i><b>5.6</b> Sample Order and Export</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Black Hills Experimental Forest Prescribed Fire Planning</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="sample_canopycov_hli" class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number">Section 5</span> Sample by Canopy Cover and HLI<a href="sample_canopycov_hli.html#sample_canopycov_hli" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="sample_canopycov_hli.html#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># turn off the s2 processing </span></span>
<span id="cb1-2"><a href="sample_canopycov_hli.html#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="do">## https://stackoverflow.com/questions/68478179/how-to-resolve-spherical-geometry-failures-when-joining-spatial-data</span></span>
<span id="cb1-3"><a href="sample_canopycov_hli.html#cb1-3" aria-hidden="true" tabindex="-1"></a>sf<span class="sc">::</span><span class="fu">sf_use_s2</span>(<span class="cn">FALSE</span>)</span></code></pre></div>
<div id="read-data-1" class="section level2 hasAnchor" number="5.1">
<h2><span class="header-section-number">5.1</span> Read Data<a href="sample_canopycov_hli.html#read-data-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><a href="vector_data.html#vector_data">Vector data</a> and <a href="lidar_data.html#lidar_data">forest cover data</a> created in prior chapters.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="sample_canopycov_hli.html#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># read</span></span>
<span id="cb2-2"><a href="sample_canopycov_hli.html#cb2-2" aria-hidden="true" tabindex="-1"></a>bhef_boundary <span class="ot">&lt;-</span> sf<span class="sc">::</span><span class="fu">st_read</span>(<span class="st">&quot;../data/bhef_boundary.gpkg&quot;</span>)</span>
<span id="cb2-3"><a href="sample_canopycov_hli.html#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co"># bhef_harvests &lt;- sf::st_read(&quot;../data/bhef_harvests.gpkg&quot;)</span></span>
<span id="cb2-4"><a href="sample_canopycov_hli.html#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># bhef_tsi &lt;- sf::st_read(&quot;../data/bhef_tsi.gpkg&quot;)</span></span>
<span id="cb2-5"><a href="sample_canopycov_hli.html#cb2-5" aria-hidden="true" tabindex="-1"></a>rx_fire <span class="ot">&lt;-</span> sf<span class="sc">::</span><span class="fu">st_read</span>(<span class="st">&quot;../data/rx_fire.gpkg&quot;</span>)</span>
<span id="cb2-6"><a href="sample_canopycov_hli.html#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co"># # forest cov</span></span>
<span id="cb2-7"><a href="sample_canopycov_hli.html#cb2-7" aria-hidden="true" tabindex="-1"></a>crowns_group <span class="ot">&lt;-</span> sf<span class="sc">::</span><span class="fu">st_read</span>(<span class="st">&quot;../data/crowns_group.gpkg&quot;</span>)</span>
<span id="cb2-8"><a href="sample_canopycov_hli.html#cb2-8" aria-hidden="true" tabindex="-1"></a>crowns_rast <span class="ot">&lt;-</span> terra<span class="sc">::</span><span class="fu">rast</span>(<span class="st">&quot;../data/crowns_st.tif&quot;</span>)</span>
<span id="cb2-9"><a href="sample_canopycov_hli.html#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="co"># chm &lt;- terra::rast(&quot;../data/chm.tif&quot;) %&gt;% </span></span>
<span id="cb2-10"><a href="sample_canopycov_hli.html#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="co">#   terra::aggregate(fact = 5, fun = &quot;mean&quot;, na.rm = T)</span></span>
<span id="cb2-11"><a href="sample_canopycov_hli.html#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="co"># elevation</span></span>
<span id="cb2-12"><a href="sample_canopycov_hli.html#cb2-12" aria-hidden="true" tabindex="-1"></a>bhef_elev <span class="ot">&lt;-</span> terra<span class="sc">::</span><span class="fu">rast</span>(<span class="st">&quot;../data/bhef_elev.tif&quot;</span>) </span>
<span id="cb2-13"><a href="sample_canopycov_hli.html#cb2-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># terra::aggregate(fact = 5, fun = &quot;mean&quot;, na.rm = T)</span></span></code></pre></div>
</div>
<div id="hli" class="section level2 hasAnchor" number="5.2">
<h2><span class="header-section-number">5.2</span> Aspect and HLI<a href="sample_canopycov_hli.html#hli" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Aspect of a slope (the direction or azimuth that a slope faces) strongly influences potential direct incident radiation and temperature. Untransformed, aspect is a poor variable for quantitative analysis, since 1° is adjacent to 360° – the numbers are very different even though the aspect is about the same. The following equation for Heat Load Index (HLI) rescales aspect to a scale of zero to one, with zero being the coolest slope (northeast) and one being the warmest slope (southwest). HLI is a proxy for aspect-driven solar heating.</p>
<p><span class="math display">\[
\textrm{Heat load index} = \frac{1 - \cos(\theta - 45)}{2}
\]</span>
where <span class="math inline">\(\theta\)</span> = aspect in degrees east of north. While this and related equations are useful, they do not consider the steepness of the slope. For example, a 1° south-facing slope would receive the same heat load index as a 30° south-facing slope, even though the latter will be considerably warmer.</p>
<p>HLI calculations have been developed which combine slope, folded aspect (i.e., “southwestness”), and latitude to estimate terrain-driven solar heating at a given location (<a href="https://onlinelibrary.wiley.com/doi/10.1111/j.1654-1103.2002.tb02087.x">McCune &amp; Keon 2002: eq. 2</a>). To calculate HLI, we used equation 2 of <a href="https://onlinelibrary.wiley.com/doi/10.1111/j.1654-1103.2002.tb02087.x">McCune &amp; Keon 2002: eq. 2</a>. Higher values of HLI are typical on steep southwesterly slopes, while low values are common on steep northeasterly slopes. Moderate values are common in flatter terrain and on northwesterly and southeasterly aspects.</p>
<p>Aspect must first be “folded” about the north-south line, rescaling 0-360° to 0-180°, such that NE = NW, E = W, etc:</p>
<p><span class="math display">\[
\textrm{Folded aspect°} = 180° \, - \, | Aspect° – 180° |
\]</span></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="sample_canopycov_hli.html#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># convert elevation raster from terra to stars</span></span>
<span id="cb3-2"><a href="sample_canopycov_hli.html#cb3-2" aria-hidden="true" tabindex="-1"></a>my_crs <span class="ot">&lt;-</span> <span class="dv">5070</span> <span class="co"># EPSG:5070 = NAD83/Conus Albers (units = meters)  </span></span>
<span id="cb3-3"><a href="sample_canopycov_hli.html#cb3-3" aria-hidden="true" tabindex="-1"></a>elev_stars_temp <span class="ot">&lt;-</span> stars<span class="sc">::</span><span class="fu">st_as_stars</span>(bhef_elev <span class="sc">|&gt;</span> terra<span class="sc">::</span><span class="fu">project</span>( <span class="fu">paste0</span>(<span class="st">&quot;EPSG:&quot;</span>,my_crs) )) <span class="sc">%&gt;%</span> </span>
<span id="cb3-4"><a href="sample_canopycov_hli.html#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">setNames</span>(<span class="fu">c</span>(<span class="st">&quot;elev&quot;</span>))</span>
<span id="cb3-5"><a href="sample_canopycov_hli.html#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="co"># extract latitude degrees from stars object</span></span>
<span id="cb3-6"><a href="sample_canopycov_hli.html#cb3-6" aria-hidden="true" tabindex="-1"></a>lats_temp <span class="ot">&lt;-</span> sf<span class="sc">::</span><span class="fu">st_coordinates</span>(elev_stars_temp) <span class="sc">%&gt;%</span></span>
<span id="cb3-7"><a href="sample_canopycov_hli.html#cb3-7" aria-hidden="true" tabindex="-1"></a>  sf<span class="sc">::</span><span class="fu">st_as_sf</span>(<span class="at">coords =</span> <span class="fu">c</span>(<span class="st">&quot;x&quot;</span>, <span class="st">&quot;y&quot;</span>), <span class="at">crs =</span> my_crs) <span class="sc">%&gt;%</span></span>
<span id="cb3-8"><a href="sample_canopycov_hli.html#cb3-8" aria-hidden="true" tabindex="-1"></a>  sf<span class="sc">::</span><span class="fu">st_transform</span>(<span class="at">crs =</span> <span class="dv">4326</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-9"><a href="sample_canopycov_hli.html#cb3-9" aria-hidden="true" tabindex="-1"></a>  sf<span class="sc">::</span><span class="fu">st_coordinates</span>() <span class="sc">%&gt;%</span></span>
<span id="cb3-10"><a href="sample_canopycov_hli.html#cb3-10" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span></span>
<span id="cb3-11"><a href="sample_canopycov_hli.html#cb3-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">setNames</span>(<span class="fu">c</span>(<span class="st">&quot;longitude&quot;</span>,<span class="st">&quot;latitude&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb3-12"><a href="sample_canopycov_hli.html#cb3-12" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(latitude)</span>
<span id="cb3-13"><a href="sample_canopycov_hli.html#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="fu">gc</span>()</span>
<span id="cb3-14"><a href="sample_canopycov_hli.html#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="co"># hli function</span></span>
<span id="cb3-15"><a href="sample_canopycov_hli.html#cb3-15" aria-hidden="true" tabindex="-1"></a>  <span class="co"># This equation returns ln(Rad, MJ · cm–2 · yr–1). It can</span></span>
<span id="cb3-16"><a href="sample_canopycov_hli.html#cb3-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># be returned to an arithmetic scale with the EXP(x)</span></span>
<span id="cb3-17"><a href="sample_canopycov_hli.html#cb3-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># function.</span></span>
<span id="cb3-18"><a href="sample_canopycov_hli.html#cb3-18" aria-hidden="true" tabindex="-1"></a>hli_fn <span class="ot">&lt;-</span> <span class="cf">function</span>(slope_rad, folded_aspect_rad, latitude_rad){</span>
<span id="cb3-19"><a href="sample_canopycov_hli.html#cb3-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">exp</span>(</span>
<span id="cb3-20"><a href="sample_canopycov_hli.html#cb3-20" aria-hidden="true" tabindex="-1"></a>    (<span class="sc">-</span><span class="dv">1</span><span class="sc">*</span><span class="fl">1.236</span>) <span class="sc">+</span></span>
<span id="cb3-21"><a href="sample_canopycov_hli.html#cb3-21" aria-hidden="true" tabindex="-1"></a>      <span class="fl">1.350</span><span class="sc">*</span><span class="fu">cos</span>(latitude_rad)<span class="sc">*</span><span class="fu">cos</span>(slope_rad) <span class="sc">+</span></span>
<span id="cb3-22"><a href="sample_canopycov_hli.html#cb3-22" aria-hidden="true" tabindex="-1"></a>      (<span class="sc">-</span><span class="dv">1</span><span class="sc">*</span><span class="fl">1.376</span>)<span class="sc">*</span><span class="fu">cos</span>(folded_aspect_rad)<span class="sc">*</span><span class="fu">sin</span>(slope_rad)<span class="sc">*</span><span class="fu">sin</span>(latitude_rad) <span class="sc">+</span></span>
<span id="cb3-23"><a href="sample_canopycov_hli.html#cb3-23" aria-hidden="true" tabindex="-1"></a>      (<span class="sc">-</span><span class="dv">1</span><span class="sc">*</span><span class="fl">0.331</span>)<span class="sc">*</span><span class="fu">sin</span>(latitude_rad)<span class="sc">*</span><span class="fu">sin</span>(slope_rad) <span class="sc">+</span></span>
<span id="cb3-24"><a href="sample_canopycov_hli.html#cb3-24" aria-hidden="true" tabindex="-1"></a>      <span class="fl">0.375</span><span class="sc">*</span><span class="fu">sin</span>(folded_aspect_rad)<span class="sc">*</span><span class="fu">sin</span>(slope_rad)</span>
<span id="cb3-25"><a href="sample_canopycov_hli.html#cb3-25" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb3-26"><a href="sample_canopycov_hli.html#cb3-26" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-27"><a href="sample_canopycov_hli.html#cb3-27" aria-hidden="true" tabindex="-1"></a><span class="co"># calculate slope and aspect from DEM</span></span>
<span id="cb3-28"><a href="sample_canopycov_hli.html#cb3-28" aria-hidden="true" tabindex="-1"></a>topo_temp <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb3-29"><a href="sample_canopycov_hli.html#cb3-29" aria-hidden="true" tabindex="-1"></a>    elev_stars_temp</span>
<span id="cb3-30"><a href="sample_canopycov_hli.html#cb3-30" aria-hidden="true" tabindex="-1"></a>    , starsExtra<span class="sc">::</span><span class="fu">slope</span>(elev_stars_temp)</span>
<span id="cb3-31"><a href="sample_canopycov_hli.html#cb3-31" aria-hidden="true" tabindex="-1"></a>    , starsExtra<span class="sc">::</span><span class="fu">aspect</span>(elev_stars_temp)</span>
<span id="cb3-32"><a href="sample_canopycov_hli.html#cb3-32" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb3-33"><a href="sample_canopycov_hli.html#cb3-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">setNames</span>(</span>
<span id="cb3-34"><a href="sample_canopycov_hli.html#cb3-34" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(<span class="st">&quot;elev&quot;</span>, <span class="st">&quot;slope_deg&quot;</span>, <span class="st">&quot;aspect_deg&quot;</span>)</span>
<span id="cb3-35"><a href="sample_canopycov_hli.html#cb3-35" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb3-36"><a href="sample_canopycov_hli.html#cb3-36" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb3-37"><a href="sample_canopycov_hli.html#cb3-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">slope_rad =</span> pracma<span class="sc">::</span><span class="fu">deg2rad</span>(<span class="fu">as.numeric</span>(slope_deg))</span>
<span id="cb3-38"><a href="sample_canopycov_hli.html#cb3-38" aria-hidden="true" tabindex="-1"></a>    , <span class="at">aspect_rad =</span> pracma<span class="sc">::</span><span class="fu">deg2rad</span>(<span class="fu">as.numeric</span>(aspect_deg))</span>
<span id="cb3-39"><a href="sample_canopycov_hli.html#cb3-39" aria-hidden="true" tabindex="-1"></a>    , <span class="at">folded_aspect_deg =</span> <span class="dv">180</span> <span class="sc">-</span> <span class="fu">abs</span>(<span class="fu">as.numeric</span>(aspect_deg)<span class="sc">-</span><span class="dv">180</span>)</span>
<span id="cb3-40"><a href="sample_canopycov_hli.html#cb3-40" aria-hidden="true" tabindex="-1"></a>    , <span class="at">folded_aspect_rad =</span> pracma<span class="sc">::</span><span class="fu">deg2rad</span>(folded_aspect_deg)</span>
<span id="cb3-41"><a href="sample_canopycov_hli.html#cb3-41" aria-hidden="true" tabindex="-1"></a>    , <span class="at">latitude_deg =</span> lats_temp<span class="sc">$</span>latitude</span>
<span id="cb3-42"><a href="sample_canopycov_hli.html#cb3-42" aria-hidden="true" tabindex="-1"></a>    , <span class="at">latitude_rad =</span> pracma<span class="sc">::</span><span class="fu">deg2rad</span>(<span class="fu">as.numeric</span>(latitude_deg))</span>
<span id="cb3-43"><a href="sample_canopycov_hli.html#cb3-43" aria-hidden="true" tabindex="-1"></a>    , <span class="at">hli =</span> dplyr<span class="sc">::</span><span class="fu">case_when</span>(</span>
<span id="cb3-44"><a href="sample_canopycov_hli.html#cb3-44" aria-hidden="true" tabindex="-1"></a>        <span class="fu">hli_fn</span>(slope_rad, folded_aspect_rad, latitude_rad) <span class="sc">&gt;</span> <span class="dv">1</span> <span class="sc">~</span> <span class="dv">1</span></span>
<span id="cb3-45"><a href="sample_canopycov_hli.html#cb3-45" aria-hidden="true" tabindex="-1"></a>        , <span class="fu">hli_fn</span>(slope_rad, folded_aspect_rad, latitude_rad) <span class="sc">&lt;</span> <span class="dv">0</span> <span class="sc">~</span> <span class="dv">0</span></span>
<span id="cb3-46"><a href="sample_canopycov_hli.html#cb3-46" aria-hidden="true" tabindex="-1"></a>        , <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">hli_fn</span>(slope_rad, folded_aspect_rad, latitude_rad)</span>
<span id="cb3-47"><a href="sample_canopycov_hli.html#cb3-47" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb3-48"><a href="sample_canopycov_hli.html#cb3-48" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb3-49"><a href="sample_canopycov_hli.html#cb3-49" aria-hidden="true" tabindex="-1"></a><span class="co"># convert just HLI back to terra</span></span>
<span id="cb3-50"><a href="sample_canopycov_hli.html#cb3-50" aria-hidden="true" tabindex="-1"></a>hli <span class="ot">&lt;-</span> terra<span class="sc">::</span><span class="fu">rast</span>((topo_temp <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(hli))[]) <span class="sc">%&gt;%</span> </span>
<span id="cb3-51"><a href="sample_canopycov_hli.html#cb3-51" aria-hidden="true" tabindex="-1"></a>  terra<span class="sc">::</span><span class="fu">project</span>( terra<span class="sc">::</span><span class="fu">crs</span>(crowns_rast) ) <span class="sc">%&gt;%</span> </span>
<span id="cb3-52"><a href="sample_canopycov_hli.html#cb3-52" aria-hidden="true" tabindex="-1"></a>  <span class="co"># resample to align layers</span></span>
<span id="cb3-53"><a href="sample_canopycov_hli.html#cb3-53" aria-hidden="true" tabindex="-1"></a>  terra<span class="sc">::</span><span class="fu">resample</span>(<span class="at">y=</span>crowns_rast, <span class="at">method =</span> <span class="st">&quot;bilinear&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb3-54"><a href="sample_canopycov_hli.html#cb3-54" aria-hidden="true" tabindex="-1"></a>  terra<span class="sc">::</span><span class="fu">crop</span>(crowns_rast)</span>
<span id="cb3-55"><a href="sample_canopycov_hli.html#cb3-55" aria-hidden="true" tabindex="-1"></a>  <span class="co"># rename</span></span>
<span id="cb3-56"><a href="sample_canopycov_hli.html#cb3-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(hli) <span class="ot">&lt;-</span> <span class="st">&quot;hli&quot;</span></span>
<span id="cb3-57"><a href="sample_canopycov_hli.html#cb3-57" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(hli, <span class="at">main =</span> <span class="st">&quot;HLI&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="sample_canopycov_hli.html#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># does it have the same extent?</span></span>
<span id="cb4-2"><a href="sample_canopycov_hli.html#cb4-2" aria-hidden="true" tabindex="-1"></a>terra<span class="sc">::</span><span class="fu">ext</span>(hli) <span class="sc">==</span> terra<span class="sc">::</span><span class="fu">ext</span>(crowns_rast)</span>
<span id="cb4-3"><a href="sample_canopycov_hli.html#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="cn">FALSE</span>){</span>
<span id="cb4-4"><a href="sample_canopycov_hli.html#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co"># smooth HLI with median value in matrix</span></span>
<span id="cb4-5"><a href="sample_canopycov_hli.html#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># d = 1 = 3x3 # d = 2 = 5x5 # d = 3 = 7x7</span></span>
<span id="cb4-6"><a href="sample_canopycov_hli.html#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># fw_temp &lt;- terra::focalMat(hli, d = 2, type = &quot;rectangle&quot;)</span></span>
<span id="cb4-7"><a href="sample_canopycov_hli.html#cb4-7" aria-hidden="true" tabindex="-1"></a>  fw_temp <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">5</span>)</span>
<span id="cb4-8"><a href="sample_canopycov_hli.html#cb4-8" aria-hidden="true" tabindex="-1"></a>  hli <span class="ot">&lt;-</span> terra<span class="sc">::</span><span class="fu">focal</span>(hli, <span class="at">w =</span> fw_temp, <span class="at">fun =</span> <span class="st">&quot;median&quot;</span>, <span class="at">na.rm=</span>T)</span>
<span id="cb4-9"><a href="sample_canopycov_hli.html#cb4-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>(hli, <span class="at">main =</span> <span class="st">&quot;HLI smooth&quot;</span>)</span>
<span id="cb4-10"><a href="sample_canopycov_hli.html#cb4-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># does it have the same extent?</span></span>
<span id="cb4-11"><a href="sample_canopycov_hli.html#cb4-11" aria-hidden="true" tabindex="-1"></a>  terra<span class="sc">::</span><span class="fu">ext</span>(hli) <span class="sc">==</span> terra<span class="sc">::</span><span class="fu">ext</span>(crowns_rast)</span>
<span id="cb4-12"><a href="sample_canopycov_hli.html#cb4-12" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb4-13"><a href="sample_canopycov_hli.html#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="co"># aggregate to 25m resolution</span></span>
<span id="cb4-14"><a href="sample_canopycov_hli.html#cb4-14" aria-hidden="true" tabindex="-1"></a>hli <span class="sc">%&gt;%</span> </span>
<span id="cb4-15"><a href="sample_canopycov_hli.html#cb4-15" aria-hidden="true" tabindex="-1"></a>  terra<span class="sc">::</span><span class="fu">aggregate</span>(<span class="at">fact =</span> <span class="dv">25</span>, <span class="at">fun =</span> <span class="st">&quot;median&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb4-16"><a href="sample_canopycov_hli.html#cb4-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>(<span class="at">main =</span> <span class="st">&quot;HLI aggregate&quot;</span>)</span></code></pre></div>
</div>
<div id="tree-canopy-cover" class="section level2 hasAnchor" number="5.3">
<h2><span class="header-section-number">5.3</span> Tree Canopy Cover<a href="sample_canopycov_hli.html#tree-canopy-cover" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The tree crown raster data represents tree crowns (interconnected crown groups or individual crowns) with minimum tree height of 2 meters created <a href="lidar_data.html#itc">here</a> using <code>lidR::dalponte2016</code>. Values of this raster are tree crown id’s.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="sample_canopycov_hli.html#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># values</span></span>
<span id="cb5-2"><a href="sample_canopycov_hli.html#cb5-2" aria-hidden="true" tabindex="-1"></a>crowns_rast <span class="sc">%&gt;%</span> terra<span class="sc">::</span><span class="fu">values</span>() <span class="sc">%&gt;%</span> <span class="fu">summary</span>()</span>
<span id="cb5-3"><a href="sample_canopycov_hli.html#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="co"># plot</span></span>
<span id="cb5-4"><a href="sample_canopycov_hli.html#cb5-4" aria-hidden="true" tabindex="-1"></a>crowns_rast <span class="sc">%&gt;%</span> </span>
<span id="cb5-5"><a href="sample_canopycov_hli.html#cb5-5" aria-hidden="true" tabindex="-1"></a>  terra<span class="sc">::</span><span class="fu">mask</span>(</span>
<span id="cb5-6"><a href="sample_canopycov_hli.html#cb5-6" aria-hidden="true" tabindex="-1"></a>    rx_fire <span class="sc">%&gt;%</span> </span>
<span id="cb5-7"><a href="sample_canopycov_hli.html#cb5-7" aria-hidden="true" tabindex="-1"></a>      sf<span class="sc">::</span><span class="fu">st_union</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb5-8"><a href="sample_canopycov_hli.html#cb5-8" aria-hidden="true" tabindex="-1"></a>      sf<span class="sc">::</span><span class="fu">st_buffer</span>(<span class="dv">100</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb5-9"><a href="sample_canopycov_hli.html#cb5-9" aria-hidden="true" tabindex="-1"></a>      terra<span class="sc">::</span><span class="fu">vect</span>()</span>
<span id="cb5-10"><a href="sample_canopycov_hli.html#cb5-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb5-11"><a href="sample_canopycov_hli.html#cb5-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>(<span class="at">xy=</span>T) <span class="sc">%&gt;%</span> </span>
<span id="cb5-12"><a href="sample_canopycov_hli.html#cb5-12" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">f=</span><span class="dv">3</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb5-13"><a href="sample_canopycov_hli.html#cb5-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb5-14"><a href="sample_canopycov_hli.html#cb5-14" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_tile</span>(<span class="at">mapping=</span><span class="fu">aes</span>(<span class="at">x=</span>x,<span class="at">y=</span>y,<span class="at">fill=</span>f), <span class="at">fill =</span> <span class="st">&quot;forestgreen&quot;</span>, <span class="at">alpha =</span> <span class="fl">0.8</span>, <span class="at">color =</span> <span class="cn">NA</span>) <span class="sc">+</span></span>
<span id="cb5-15"><a href="sample_canopycov_hli.html#cb5-15" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_sf</span>(<span class="at">data =</span> bhef_boundary, <span class="at">alpha =</span> <span class="dv">0</span>, <span class="at">lwd =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">linetype =</span> <span class="st">&quot;dashed&quot;</span>) <span class="sc">+</span></span>
<span id="cb5-16"><a href="sample_canopycov_hli.html#cb5-16" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_sf</span>(<span class="at">data =</span> rx_fire, <span class="at">alpha =</span> <span class="dv">0</span>, <span class="at">lwd =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">&quot;orangered&quot;</span>) <span class="sc">+</span></span>
<span id="cb5-17"><a href="sample_canopycov_hli.html#cb5-17" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_sf_label</span>(<span class="at">data =</span> rx_fire, <span class="fu">aes</span>(<span class="at">label =</span> unit)</span>
<span id="cb5-18"><a href="sample_canopycov_hli.html#cb5-18" aria-hidden="true" tabindex="-1"></a>        , <span class="at">label.size =</span> <span class="cn">NA</span></span>
<span id="cb5-19"><a href="sample_canopycov_hli.html#cb5-19" aria-hidden="true" tabindex="-1"></a>        , <span class="at">alpha =</span> <span class="dv">0</span></span>
<span id="cb5-20"><a href="sample_canopycov_hli.html#cb5-20" aria-hidden="true" tabindex="-1"></a>        , <span class="at">size =</span> <span class="dv">3</span></span>
<span id="cb5-21"><a href="sample_canopycov_hli.html#cb5-21" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">+</span></span>
<span id="cb5-22"><a href="sample_canopycov_hli.html#cb5-22" aria-hidden="true" tabindex="-1"></a>      <span class="fu">coord_sf</span>(<span class="at">expand =</span> F) <span class="sc">+</span></span>
<span id="cb5-23"><a href="sample_canopycov_hli.html#cb5-23" aria-hidden="true" tabindex="-1"></a>      <span class="fu">scale_x_continuous</span>(<span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb5-24"><a href="sample_canopycov_hli.html#cb5-24" aria-hidden="true" tabindex="-1"></a>      <span class="fu">scale_y_continuous</span>(<span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb5-25"><a href="sample_canopycov_hli.html#cb5-25" aria-hidden="true" tabindex="-1"></a>      <span class="fu">labs</span>(</span>
<span id="cb5-26"><a href="sample_canopycov_hli.html#cb5-26" aria-hidden="true" tabindex="-1"></a>          <span class="at">title =</span> <span class="st">&quot;Lidar-Derived Canopy Cover (&gt;2m in 2017)&quot;</span></span>
<span id="cb5-27"><a href="sample_canopycov_hli.html#cb5-27" aria-hidden="true" tabindex="-1"></a>          , <span class="at">subtitle =</span> <span class="fu">paste0</span>(<span class="st">&quot;Rx fire units&quot;</span>)</span>
<span id="cb5-28"><a href="sample_canopycov_hli.html#cb5-28" aria-hidden="true" tabindex="-1"></a>          , <span class="at">x=</span><span class="st">&quot;&quot;</span></span>
<span id="cb5-29"><a href="sample_canopycov_hli.html#cb5-29" aria-hidden="true" tabindex="-1"></a>          , <span class="at">y=</span><span class="st">&quot;&quot;</span></span>
<span id="cb5-30"><a href="sample_canopycov_hli.html#cb5-30" aria-hidden="true" tabindex="-1"></a>          <span class="co"># , fill = nm_temp[layer_n]</span></span>
<span id="cb5-31"><a href="sample_canopycov_hli.html#cb5-31" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">+</span></span>
<span id="cb5-32"><a href="sample_canopycov_hli.html#cb5-32" aria-hidden="true" tabindex="-1"></a>      <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb5-33"><a href="sample_canopycov_hli.html#cb5-33" aria-hidden="true" tabindex="-1"></a>      <span class="fu">theme</span>(</span>
<span id="cb5-34"><a href="sample_canopycov_hli.html#cb5-34" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span></span>
<span id="cb5-35"><a href="sample_canopycov_hli.html#cb5-35" aria-hidden="true" tabindex="-1"></a>        , <span class="at">legend.direction =</span> <span class="st">&quot;horizontal&quot;</span></span>
<span id="cb5-36"><a href="sample_canopycov_hli.html#cb5-36" aria-hidden="true" tabindex="-1"></a>        , <span class="at">legend.margin =</span> <span class="fu">margin</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>)</span>
<span id="cb5-37"><a href="sample_canopycov_hli.html#cb5-37" aria-hidden="true" tabindex="-1"></a>        , <span class="at">legend.box.margin =</span> <span class="fu">margin</span>(<span class="sc">-</span><span class="dv">21</span>,<span class="dv">0</span>,<span class="dv">2</span>,<span class="dv">0</span>)</span>
<span id="cb5-38"><a href="sample_canopycov_hli.html#cb5-38" aria-hidden="true" tabindex="-1"></a>        , <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>, <span class="at">angle =</span> <span class="dv">25</span>, <span class="at">hjust =</span> <span class="fl">0.7</span>)</span>
<span id="cb5-39"><a href="sample_canopycov_hli.html#cb5-39" aria-hidden="true" tabindex="-1"></a>        , <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>)</span>
<span id="cb5-40"><a href="sample_canopycov_hli.html#cb5-40" aria-hidden="true" tabindex="-1"></a>        , <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>)</span>
<span id="cb5-41"><a href="sample_canopycov_hli.html#cb5-41" aria-hidden="true" tabindex="-1"></a>        , <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>, <span class="at">angle =</span> <span class="dv">35</span>, <span class="at">hjust =</span> <span class="fl">0.7</span>)</span>
<span id="cb5-42"><a href="sample_canopycov_hli.html#cb5-42" aria-hidden="true" tabindex="-1"></a>        , <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>, <span class="at">margin =</span> <span class="fu">margin</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">2</span>,<span class="dv">0</span>))</span>
<span id="cb5-43"><a href="sample_canopycov_hli.html#cb5-43" aria-hidden="true" tabindex="-1"></a>        , <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">8</span>, <span class="at">face=</span><span class="st">&quot;italic&quot;</span>, <span class="at">color=</span><span class="st">&quot;orangered&quot;</span>, <span class="at">margin =</span> <span class="fu">margin</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>))</span>
<span id="cb5-44"><a href="sample_canopycov_hli.html#cb5-44" aria-hidden="true" tabindex="-1"></a>        , <span class="at">panel.border =</span> <span class="fu">element_blank</span>()</span>
<span id="cb5-45"><a href="sample_canopycov_hli.html#cb5-45" aria-hidden="true" tabindex="-1"></a>      )</span></code></pre></div>
<p><img src="bhef_rxfire_plan_files/figure-html/crowns-rast-1.png" width="960" /></p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="sample_canopycov_hli.html#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># reclass crowns as 1, else 0</span></span>
<span id="cb6-2"><a href="sample_canopycov_hli.html#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># reclass matrix</span></span>
<span id="cb6-3"><a href="sample_canopycov_hli.html#cb6-3" aria-hidden="true" tabindex="-1"></a>  rcl_temp <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb6-4"><a href="sample_canopycov_hli.html#cb6-4" aria-hidden="true" tabindex="-1"></a>      crowns_rast <span class="sc">%&gt;%</span> terra<span class="sc">::</span><span class="fu">values</span>() <span class="sc">%&gt;%</span> <span class="fu">min</span>(<span class="at">na.rm =</span> T)</span>
<span id="cb6-5"><a href="sample_canopycov_hli.html#cb6-5" aria-hidden="true" tabindex="-1"></a>      , crowns_rast <span class="sc">%&gt;%</span> terra<span class="sc">::</span><span class="fu">values</span>() <span class="sc">%&gt;%</span> <span class="fu">max</span>(<span class="at">na.rm =</span> T)</span>
<span id="cb6-6"><a href="sample_canopycov_hli.html#cb6-6" aria-hidden="true" tabindex="-1"></a>      , <span class="dv">1</span></span>
<span id="cb6-7"><a href="sample_canopycov_hli.html#cb6-7" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span>  </span>
<span id="cb6-8"><a href="sample_canopycov_hli.html#cb6-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">matrix</span>(<span class="at">ncol=</span><span class="dv">3</span>, <span class="at">byrow=</span><span class="cn">TRUE</span>)</span>
<span id="cb6-9"><a href="sample_canopycov_hli.html#cb6-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># binary raster</span></span>
<span id="cb6-10"><a href="sample_canopycov_hli.html#cb6-10" aria-hidden="true" tabindex="-1"></a>  iscrown_rast <span class="ot">&lt;-</span> crowns_rast <span class="sc">%&gt;%</span> </span>
<span id="cb6-11"><a href="sample_canopycov_hli.html#cb6-11" aria-hidden="true" tabindex="-1"></a>    terra<span class="sc">::</span><span class="fu">classify</span>(</span>
<span id="cb6-12"><a href="sample_canopycov_hli.html#cb6-12" aria-hidden="true" tabindex="-1"></a>      <span class="at">rcl =</span> rcl_temp</span>
<span id="cb6-13"><a href="sample_canopycov_hli.html#cb6-13" aria-hidden="true" tabindex="-1"></a>      , <span class="at">include.lowest =</span> T</span>
<span id="cb6-14"><a href="sample_canopycov_hli.html#cb6-14" aria-hidden="true" tabindex="-1"></a>      , <span class="at">others =</span> <span class="dv">0</span></span>
<span id="cb6-15"><a href="sample_canopycov_hli.html#cb6-15" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb6-16"><a href="sample_canopycov_hli.html#cb6-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># update to 0/1 because na values are not 0</span></span>
<span id="cb6-17"><a href="sample_canopycov_hli.html#cb6-17" aria-hidden="true" tabindex="-1"></a>    terra<span class="sc">::</span><span class="fu">subst</span>(<span class="at">from=</span><span class="cn">NA</span>,<span class="at">to=</span><span class="dv">0</span>)</span>
<span id="cb6-18"><a href="sample_canopycov_hli.html#cb6-18" aria-hidden="true" tabindex="-1"></a><span class="co"># values</span></span>
<span id="cb6-19"><a href="sample_canopycov_hli.html#cb6-19" aria-hidden="true" tabindex="-1"></a>iscrown_rast <span class="sc">%&gt;%</span> terra<span class="sc">::</span><span class="fu">values</span>() <span class="sc">%&gt;%</span> <span class="fu">summary</span>()</span>
<span id="cb6-20"><a href="sample_canopycov_hli.html#cb6-20" aria-hidden="true" tabindex="-1"></a>iscrown_rast <span class="sc">%&gt;%</span> terra<span class="sc">::</span><span class="fu">res</span>()</span>
<span id="cb6-21"><a href="sample_canopycov_hli.html#cb6-21" aria-hidden="true" tabindex="-1"></a><span class="co"># plot</span></span>
<span id="cb6-22"><a href="sample_canopycov_hli.html#cb6-22" aria-hidden="true" tabindex="-1"></a>iscrown_rast <span class="sc">%&gt;%</span> </span>
<span id="cb6-23"><a href="sample_canopycov_hli.html#cb6-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>(<span class="at">xy=</span>T) <span class="sc">%&gt;%</span> </span>
<span id="cb6-24"><a href="sample_canopycov_hli.html#cb6-24" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">f=</span><span class="dv">3</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb6-25"><a href="sample_canopycov_hli.html#cb6-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb6-26"><a href="sample_canopycov_hli.html#cb6-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_raster</span>(<span class="at">mapping=</span><span class="fu">aes</span>(<span class="at">x=</span>x,<span class="at">y=</span>y,<span class="at">fill=</span><span class="fu">as.factor</span>(f))) <span class="sc">+</span></span>
<span id="cb6-27"><a href="sample_canopycov_hli.html#cb6-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_sf</span>(<span class="at">data =</span> bhef_boundary, <span class="at">fill =</span> <span class="cn">NA</span>, <span class="at">color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">lwd =</span> <span class="fl">1.1</span>) <span class="sc">+</span></span>
<span id="cb6-28"><a href="sample_canopycov_hli.html#cb6-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_fill_viridis_d</span>(<span class="at">na.value =</span> <span class="st">&quot;transparent&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="sample_canopycov_hli.html#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plot zoom</span></span>
<span id="cb7-2"><a href="sample_canopycov_hli.html#cb7-2" aria-hidden="true" tabindex="-1"></a>iscrown_rast <span class="sc">%&gt;%</span> </span>
<span id="cb7-3"><a href="sample_canopycov_hli.html#cb7-3" aria-hidden="true" tabindex="-1"></a>  terra<span class="sc">::</span><span class="fu">crop</span>(</span>
<span id="cb7-4"><a href="sample_canopycov_hli.html#cb7-4" aria-hidden="true" tabindex="-1"></a>    bhef_boundary <span class="sc">%&gt;%</span> sf<span class="sc">::</span><span class="fu">st_centroid</span>() <span class="sc">%&gt;%</span> sf<span class="sc">::</span><span class="fu">st_buffer</span>(<span class="dv">10</span>)</span>
<span id="cb7-5"><a href="sample_canopycov_hli.html#cb7-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb7-6"><a href="sample_canopycov_hli.html#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>(<span class="at">xy=</span>T) <span class="sc">%&gt;%</span> </span>
<span id="cb7-7"><a href="sample_canopycov_hli.html#cb7-7" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">f=</span><span class="dv">3</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb7-8"><a href="sample_canopycov_hli.html#cb7-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb7-9"><a href="sample_canopycov_hli.html#cb7-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_raster</span>(<span class="at">mapping=</span><span class="fu">aes</span>(<span class="at">x=</span>x,<span class="at">y=</span>y,<span class="at">fill=</span><span class="fu">as.factor</span>(f))) <span class="sc">+</span></span>
<span id="cb7-10"><a href="sample_canopycov_hli.html#cb7-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_fill_viridis_d</span>(<span class="at">na.value =</span> <span class="st">&quot;transparent&quot;</span>)</span></code></pre></div>
</div>
<div id="aggregate-and-crop-to-rx-fire-units" class="section level2 hasAnchor" number="5.4">
<h2><span class="header-section-number">5.4</span> Aggregate and Crop to Rx fire Units<a href="sample_canopycov_hli.html#aggregate-and-crop-to-rx-fire-units" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="sample_canopycov_hli.html#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># select aggregate resolution: 25 = 25x25m grid</span></span>
<span id="cb8-2"><a href="sample_canopycov_hli.html#cb8-2" aria-hidden="true" tabindex="-1"></a>agg_res <span class="ot">&lt;-</span> <span class="dv">25</span></span>
<span id="cb8-3"><a href="sample_canopycov_hli.html#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="co"># aggreaged and combine layers</span></span>
<span id="cb8-4"><a href="sample_canopycov_hli.html#cb8-4" aria-hidden="true" tabindex="-1"></a>layers <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb8-5"><a href="sample_canopycov_hli.html#cb8-5" aria-hidden="true" tabindex="-1"></a>    iscrown_rast <span class="sc">%&gt;%</span> </span>
<span id="cb8-6"><a href="sample_canopycov_hli.html#cb8-6" aria-hidden="true" tabindex="-1"></a>      terra<span class="sc">::</span><span class="fu">aggregate</span>(<span class="at">fact =</span> agg_res, <span class="at">fun =</span> <span class="st">&quot;mean&quot;</span>)</span>
<span id="cb8-7"><a href="sample_canopycov_hli.html#cb8-7" aria-hidden="true" tabindex="-1"></a>    , hli <span class="sc">%&gt;%</span> </span>
<span id="cb8-8"><a href="sample_canopycov_hli.html#cb8-8" aria-hidden="true" tabindex="-1"></a>      terra<span class="sc">::</span><span class="fu">aggregate</span>(<span class="at">fact =</span> agg_res, <span class="at">fun =</span> <span class="st">&quot;median&quot;</span>)</span>
<span id="cb8-9"><a href="sample_canopycov_hli.html#cb8-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb8-10"><a href="sample_canopycov_hli.html#cb8-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">setNames</span>(<span class="fu">c</span>(<span class="st">&quot;crowncov&quot;</span>, <span class="st">&quot;hli&quot;</span>))</span>
<span id="cb8-11"><a href="sample_canopycov_hli.html#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="co"># crop to rx fire units bounds</span></span>
<span id="cb8-12"><a href="sample_canopycov_hli.html#cb8-12" aria-hidden="true" tabindex="-1"></a>layers <span class="ot">&lt;-</span> layers <span class="sc">%&gt;%</span> </span>
<span id="cb8-13"><a href="sample_canopycov_hli.html#cb8-13" aria-hidden="true" tabindex="-1"></a>  terra<span class="sc">::</span><span class="fu">mask</span>(</span>
<span id="cb8-14"><a href="sample_canopycov_hli.html#cb8-14" aria-hidden="true" tabindex="-1"></a>    rx_fire <span class="sc">%&gt;%</span> </span>
<span id="cb8-15"><a href="sample_canopycov_hli.html#cb8-15" aria-hidden="true" tabindex="-1"></a>      sf<span class="sc">::</span><span class="fu">st_union</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb8-16"><a href="sample_canopycov_hli.html#cb8-16" aria-hidden="true" tabindex="-1"></a>      terra<span class="sc">::</span><span class="fu">vect</span>()</span>
<span id="cb8-17"><a href="sample_canopycov_hli.html#cb8-17" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb8-18"><a href="sample_canopycov_hli.html#cb8-18" aria-hidden="true" tabindex="-1"></a><span class="co"># plot</span></span>
<span id="cb8-19"><a href="sample_canopycov_hli.html#cb8-19" aria-hidden="true" tabindex="-1"></a>nm_temp <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;% Canopy Cov.&quot;</span>, <span class="st">&quot;HLI&quot;</span>)</span>
<span id="cb8-20"><a href="sample_canopycov_hli.html#cb8-20" aria-hidden="true" tabindex="-1"></a>plt_fn_temp <span class="ot">&lt;-</span> <span class="cf">function</span>(layer_n) {</span>
<span id="cb8-21"><a href="sample_canopycov_hli.html#cb8-21" aria-hidden="true" tabindex="-1"></a>  plt <span class="ot">&lt;-</span> layers[[layer_n]] <span class="sc">%&gt;%</span> </span>
<span id="cb8-22"><a href="sample_canopycov_hli.html#cb8-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as.data.frame</span>(<span class="at">xy=</span>T) <span class="sc">%&gt;%</span> </span>
<span id="cb8-23"><a href="sample_canopycov_hli.html#cb8-23" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">f=</span><span class="dv">3</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb8-24"><a href="sample_canopycov_hli.html#cb8-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb8-25"><a href="sample_canopycov_hli.html#cb8-25" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_raster</span>(<span class="at">mapping=</span><span class="fu">aes</span>(<span class="at">x=</span>x,<span class="at">y=</span>y,<span class="at">fill=</span>f)) <span class="sc">+</span></span>
<span id="cb8-26"><a href="sample_canopycov_hli.html#cb8-26" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_sf</span>(<span class="at">data =</span> bhef_boundary, <span class="at">alpha =</span> <span class="dv">0</span>, <span class="at">lwd =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">linetype =</span> <span class="st">&quot;dashed&quot;</span>) <span class="sc">+</span></span>
<span id="cb8-27"><a href="sample_canopycov_hli.html#cb8-27" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_sf</span>(<span class="at">data =</span> rx_fire, <span class="at">alpha =</span> <span class="dv">0</span>, <span class="at">lwd =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">&quot;orangered&quot;</span>) <span class="sc">+</span></span>
<span id="cb8-28"><a href="sample_canopycov_hli.html#cb8-28" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_sf_label</span>(<span class="at">data =</span> rx_fire, <span class="fu">aes</span>(<span class="at">label =</span> unit)</span>
<span id="cb8-29"><a href="sample_canopycov_hli.html#cb8-29" aria-hidden="true" tabindex="-1"></a>        , <span class="at">label.size =</span> <span class="cn">NA</span></span>
<span id="cb8-30"><a href="sample_canopycov_hli.html#cb8-30" aria-hidden="true" tabindex="-1"></a>        , <span class="at">alpha =</span> <span class="dv">0</span></span>
<span id="cb8-31"><a href="sample_canopycov_hli.html#cb8-31" aria-hidden="true" tabindex="-1"></a>        , <span class="at">size =</span> <span class="dv">3</span></span>
<span id="cb8-32"><a href="sample_canopycov_hli.html#cb8-32" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">+</span></span>
<span id="cb8-33"><a href="sample_canopycov_hli.html#cb8-33" aria-hidden="true" tabindex="-1"></a>      <span class="fu">coord_sf</span>(<span class="at">expand =</span> F) <span class="sc">+</span></span>
<span id="cb8-34"><a href="sample_canopycov_hli.html#cb8-34" aria-hidden="true" tabindex="-1"></a>      <span class="fu">scale_fill_viridis_c</span>(<span class="at">option =</span> (<span class="dv">8</span><span class="sc">-</span>layer_n), <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span> </span>
<span id="cb8-35"><a href="sample_canopycov_hli.html#cb8-35" aria-hidden="true" tabindex="-1"></a>      <span class="fu">scale_x_continuous</span>(<span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb8-36"><a href="sample_canopycov_hli.html#cb8-36" aria-hidden="true" tabindex="-1"></a>      <span class="fu">scale_y_continuous</span>(<span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb8-37"><a href="sample_canopycov_hli.html#cb8-37" aria-hidden="true" tabindex="-1"></a>      <span class="fu">labs</span>(</span>
<span id="cb8-38"><a href="sample_canopycov_hli.html#cb8-38" aria-hidden="true" tabindex="-1"></a>          <span class="at">title =</span> nm_temp[layer_n]</span>
<span id="cb8-39"><a href="sample_canopycov_hli.html#cb8-39" aria-hidden="true" tabindex="-1"></a>          , <span class="at">subtitle =</span> <span class="fu">paste0</span>(<span class="st">&quot;Rx fire units&quot;</span>)</span>
<span id="cb8-40"><a href="sample_canopycov_hli.html#cb8-40" aria-hidden="true" tabindex="-1"></a>          , <span class="at">x=</span><span class="st">&quot;&quot;</span></span>
<span id="cb8-41"><a href="sample_canopycov_hli.html#cb8-41" aria-hidden="true" tabindex="-1"></a>          , <span class="at">y=</span><span class="st">&quot;&quot;</span></span>
<span id="cb8-42"><a href="sample_canopycov_hli.html#cb8-42" aria-hidden="true" tabindex="-1"></a>          , <span class="at">fill =</span> nm_temp[layer_n]</span>
<span id="cb8-43"><a href="sample_canopycov_hli.html#cb8-43" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">+</span></span>
<span id="cb8-44"><a href="sample_canopycov_hli.html#cb8-44" aria-hidden="true" tabindex="-1"></a>      <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb8-45"><a href="sample_canopycov_hli.html#cb8-45" aria-hidden="true" tabindex="-1"></a>      <span class="fu">theme</span>(</span>
<span id="cb8-46"><a href="sample_canopycov_hli.html#cb8-46" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">&quot;bottom&quot;</span></span>
<span id="cb8-47"><a href="sample_canopycov_hli.html#cb8-47" aria-hidden="true" tabindex="-1"></a>        , <span class="at">legend.direction =</span> <span class="st">&quot;horizontal&quot;</span></span>
<span id="cb8-48"><a href="sample_canopycov_hli.html#cb8-48" aria-hidden="true" tabindex="-1"></a>        , <span class="at">legend.margin =</span> <span class="fu">margin</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>)</span>
<span id="cb8-49"><a href="sample_canopycov_hli.html#cb8-49" aria-hidden="true" tabindex="-1"></a>        , <span class="at">legend.box.margin =</span> <span class="fu">margin</span>(<span class="sc">-</span><span class="dv">21</span>,<span class="dv">0</span>,<span class="dv">2</span>,<span class="dv">0</span>)</span>
<span id="cb8-50"><a href="sample_canopycov_hli.html#cb8-50" aria-hidden="true" tabindex="-1"></a>        , <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>, <span class="at">angle =</span> <span class="dv">25</span>, <span class="at">hjust =</span> <span class="fl">0.7</span>)</span>
<span id="cb8-51"><a href="sample_canopycov_hli.html#cb8-51" aria-hidden="true" tabindex="-1"></a>        , <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>)</span>
<span id="cb8-52"><a href="sample_canopycov_hli.html#cb8-52" aria-hidden="true" tabindex="-1"></a>        , <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>)</span>
<span id="cb8-53"><a href="sample_canopycov_hli.html#cb8-53" aria-hidden="true" tabindex="-1"></a>        , <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>, <span class="at">angle =</span> <span class="dv">35</span>, <span class="at">hjust =</span> <span class="fl">0.7</span>)</span>
<span id="cb8-54"><a href="sample_canopycov_hli.html#cb8-54" aria-hidden="true" tabindex="-1"></a>        , <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>, <span class="at">margin =</span> <span class="fu">margin</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">2</span>,<span class="dv">0</span>))</span>
<span id="cb8-55"><a href="sample_canopycov_hli.html#cb8-55" aria-hidden="true" tabindex="-1"></a>        , <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">8</span>, <span class="at">face=</span><span class="st">&quot;italic&quot;</span>, <span class="at">color=</span><span class="st">&quot;orangered&quot;</span>, <span class="at">margin =</span> <span class="fu">margin</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>))</span>
<span id="cb8-56"><a href="sample_canopycov_hli.html#cb8-56" aria-hidden="true" tabindex="-1"></a>        , <span class="at">panel.border =</span> <span class="fu">element_blank</span>()</span>
<span id="cb8-57"><a href="sample_canopycov_hli.html#cb8-57" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb8-58"><a href="sample_canopycov_hli.html#cb8-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(plt)</span>
<span id="cb8-59"><a href="sample_canopycov_hli.html#cb8-59" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-60"><a href="sample_canopycov_hli.html#cb8-60" aria-hidden="true" tabindex="-1"></a>plt_list_temp <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span>(layers <span class="sc">%&gt;%</span> terra<span class="sc">::</span><span class="fu">nlyr</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb8-61"><a href="sample_canopycov_hli.html#cb8-61" aria-hidden="true" tabindex="-1"></a>  purrr<span class="sc">::</span><span class="fu">map</span>(plt_fn_temp)</span>
<span id="cb8-62"><a href="sample_canopycov_hli.html#cb8-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-63"><a href="sample_canopycov_hli.html#cb8-63" aria-hidden="true" tabindex="-1"></a><span class="co"># combine</span></span>
<span id="cb8-64"><a href="sample_canopycov_hli.html#cb8-64" aria-hidden="true" tabindex="-1"></a>cowplot<span class="sc">::</span><span class="fu">plot_grid</span>(</span>
<span id="cb8-65"><a href="sample_canopycov_hli.html#cb8-65" aria-hidden="true" tabindex="-1"></a>  <span class="at">plotlist =</span> plt_list_temp</span>
<span id="cb8-66"><a href="sample_canopycov_hli.html#cb8-66" aria-hidden="true" tabindex="-1"></a>  , <span class="at">nrow =</span> <span class="dv">1</span></span>
<span id="cb8-67"><a href="sample_canopycov_hli.html#cb8-67" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="bhef_rxfire_plan_files/figure-html/agg-rast-dta-1.png" width="960" /></p>
<p>Canopy cover (%) and HLI (median) were aggregated to a sample grid at <strong>25m</strong> resolution from an original data resolution of <strong>1m</strong>.</p>
</div>
<div id="classify-raster-grid" class="section level2 hasAnchor" number="5.5">
<h2><span class="header-section-number">5.5</span> Classify Raster Grid<a href="sample_canopycov_hli.html#classify-raster-grid" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="cutpoints" class="section level3 hasAnchor" number="5.5.1">
<h3><span class="header-section-number">5.5.1</span> Cutpoints<a href="sample_canopycov_hli.html#cutpoints" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="sample_canopycov_hli.html#cb9-1" aria-hidden="true" tabindex="-1"></a>cutlist <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="fl">0.2</span>)</span>
<span id="cb9-2"><a href="sample_canopycov_hli.html#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="co"># cutlist_df_temp &lt;- </span></span>
<span id="cb9-3"><a href="sample_canopycov_hli.html#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>(</span>
<span id="cb9-4"><a href="sample_canopycov_hli.html#cb9-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">hli =</span> stats<span class="sc">::</span><span class="fu">quantile</span>(</span>
<span id="cb9-5"><a href="sample_canopycov_hli.html#cb9-5" aria-hidden="true" tabindex="-1"></a>        layers<span class="sc">$</span>hli <span class="sc">%&gt;%</span> terra<span class="sc">::</span><span class="fu">values</span>()</span>
<span id="cb9-6"><a href="sample_canopycov_hli.html#cb9-6" aria-hidden="true" tabindex="-1"></a>        , <span class="at">probs =</span> cutlist</span>
<span id="cb9-7"><a href="sample_canopycov_hli.html#cb9-7" aria-hidden="true" tabindex="-1"></a>        , <span class="at">na.rm =</span> T</span>
<span id="cb9-8"><a href="sample_canopycov_hli.html#cb9-8" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb9-9"><a href="sample_canopycov_hli.html#cb9-9" aria-hidden="true" tabindex="-1"></a>    , <span class="at">crowncov =</span> stats<span class="sc">::</span><span class="fu">quantile</span>(</span>
<span id="cb9-10"><a href="sample_canopycov_hli.html#cb9-10" aria-hidden="true" tabindex="-1"></a>        layers<span class="sc">$</span>crowncov <span class="sc">%&gt;%</span> terra<span class="sc">::</span><span class="fu">values</span>()</span>
<span id="cb9-11"><a href="sample_canopycov_hli.html#cb9-11" aria-hidden="true" tabindex="-1"></a>        , <span class="at">probs =</span> cutlist</span>
<span id="cb9-12"><a href="sample_canopycov_hli.html#cb9-12" aria-hidden="true" tabindex="-1"></a>        , <span class="at">na.rm =</span> T</span>
<span id="cb9-13"><a href="sample_canopycov_hli.html#cb9-13" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb9-14"><a href="sample_canopycov_hli.html#cb9-14" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb9-15"><a href="sample_canopycov_hli.html#cb9-15" aria-hidden="true" tabindex="-1"></a>  tibble<span class="sc">::</span><span class="fu">rownames_to_column</span>(<span class="at">var=</span><span class="st">&quot;pct&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb9-16"><a href="sample_canopycov_hli.html#cb9-16" aria-hidden="true" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">pivot_longer</span>(</span>
<span id="cb9-17"><a href="sample_canopycov_hli.html#cb9-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> <span class="fu">c</span>(hli,crowncov)</span>
<span id="cb9-18"><a href="sample_canopycov_hli.html#cb9-18" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb9-19"><a href="sample_canopycov_hli.html#cb9-19" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(name) <span class="sc">%&gt;%</span> </span>
<span id="cb9-20"><a href="sample_canopycov_hli.html#cb9-20" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb9-21"><a href="sample_canopycov_hli.html#cb9-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">pct_n =</span> readr<span class="sc">::</span><span class="fu">parse_number</span>(pct)</span>
<span id="cb9-22"><a href="sample_canopycov_hli.html#cb9-22" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb9-23"><a href="sample_canopycov_hli.html#cb9-23" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(name,pct_n) <span class="sc">%&gt;%</span> </span>
<span id="cb9-24"><a href="sample_canopycov_hli.html#cb9-24" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb9-25"><a href="sample_canopycov_hli.html#cb9-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> dplyr<span class="sc">::</span><span class="fu">row_number</span>()<span class="sc">-</span><span class="dv">1</span></span>
<span id="cb9-26"><a href="sample_canopycov_hli.html#cb9-26" aria-hidden="true" tabindex="-1"></a>    , <span class="at">value_1 =</span> dplyr<span class="sc">::</span><span class="fu">lag</span>(value)</span>
<span id="cb9-27"><a href="sample_canopycov_hli.html#cb9-27" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb9-28"><a href="sample_canopycov_hli.html#cb9-28" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(n<span class="sc">&gt;</span><span class="dv">0</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb9-29"><a href="sample_canopycov_hli.html#cb9-29" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb9-30"><a href="sample_canopycov_hli.html#cb9-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">f =</span> <span class="fu">factor</span>(</span>
<span id="cb9-31"><a href="sample_canopycov_hli.html#cb9-31" aria-hidden="true" tabindex="-1"></a>      n</span>
<span id="cb9-32"><a href="sample_canopycov_hli.html#cb9-32" aria-hidden="true" tabindex="-1"></a>      , <span class="at">levels =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span></span>
<span id="cb9-33"><a href="sample_canopycov_hli.html#cb9-33" aria-hidden="true" tabindex="-1"></a>      , <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;low&quot;</span>,<span class="st">&quot;med.low&quot;</span>,<span class="st">&quot;medium&quot;</span>,<span class="st">&quot;med.high&quot;</span>,<span class="st">&quot;high&quot;</span>)</span>
<span id="cb9-34"><a href="sample_canopycov_hli.html#cb9-34" aria-hidden="true" tabindex="-1"></a>      , <span class="at">ordered =</span> T</span>
<span id="cb9-35"><a href="sample_canopycov_hli.html#cb9-35" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb9-36"><a href="sample_canopycov_hli.html#cb9-36" aria-hidden="true" tabindex="-1"></a>    , <span class="at">lab =</span> dplyr<span class="sc">::</span><span class="fu">case_when</span>(</span>
<span id="cb9-37"><a href="sample_canopycov_hli.html#cb9-37" aria-hidden="true" tabindex="-1"></a>      name <span class="sc">==</span> <span class="st">&quot;hli&quot;</span> <span class="sc">~</span> scales<span class="sc">::</span><span class="fu">comma</span>(value, <span class="at">accuracy =</span> <span class="fl">0.01</span>)</span>
<span id="cb9-38"><a href="sample_canopycov_hli.html#cb9-38" aria-hidden="true" tabindex="-1"></a>      , name <span class="sc">==</span> <span class="st">&quot;crowncov&quot;</span> <span class="sc">~</span> scales<span class="sc">::</span><span class="fu">percent</span>(value, <span class="at">accuracy =</span> <span class="dv">1</span>)</span>
<span id="cb9-39"><a href="sample_canopycov_hli.html#cb9-39" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb9-40"><a href="sample_canopycov_hli.html#cb9-40" aria-hidden="true" tabindex="-1"></a>    , <span class="at">lab_1 =</span> dplyr<span class="sc">::</span><span class="fu">case_when</span>(</span>
<span id="cb9-41"><a href="sample_canopycov_hli.html#cb9-41" aria-hidden="true" tabindex="-1"></a>      name <span class="sc">==</span> <span class="st">&quot;hli&quot;</span> <span class="sc">~</span> scales<span class="sc">::</span><span class="fu">comma</span>(value_1, <span class="at">accuracy =</span> <span class="fl">0.01</span>)</span>
<span id="cb9-42"><a href="sample_canopycov_hli.html#cb9-42" aria-hidden="true" tabindex="-1"></a>      , name <span class="sc">==</span> <span class="st">&quot;crowncov&quot;</span> <span class="sc">~</span> scales<span class="sc">::</span><span class="fu">percent</span>(value_1, <span class="at">accuracy =</span> <span class="dv">1</span>)</span>
<span id="cb9-43"><a href="sample_canopycov_hli.html#cb9-43" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb9-44"><a href="sample_canopycov_hli.html#cb9-44" aria-hidden="true" tabindex="-1"></a>    , <span class="at">name =</span> dplyr<span class="sc">::</span><span class="fu">case_when</span>(</span>
<span id="cb9-45"><a href="sample_canopycov_hli.html#cb9-45" aria-hidden="true" tabindex="-1"></a>      name <span class="sc">==</span> <span class="st">&quot;hli&quot;</span> <span class="sc">~</span> <span class="st">&quot;HLI&quot;</span></span>
<span id="cb9-46"><a href="sample_canopycov_hli.html#cb9-46" aria-hidden="true" tabindex="-1"></a>      , name <span class="sc">==</span> <span class="st">&quot;crowncov&quot;</span> <span class="sc">~</span> <span class="st">&quot;Canopy Cover&quot;</span></span>
<span id="cb9-47"><a href="sample_canopycov_hli.html#cb9-47" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb9-48"><a href="sample_canopycov_hli.html#cb9-48" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb9-49"><a href="sample_canopycov_hli.html#cb9-49" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">y=</span>f,<span class="at">x =</span> (value_1<span class="sc">+</span>value)<span class="sc">/</span><span class="dv">2</span>)) <span class="sc">+</span></span>
<span id="cb9-50"><a href="sample_canopycov_hli.html#cb9-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">xmin=</span>value_1,<span class="at">xmax=</span>value,<span class="at">color=</span>f)) <span class="sc">+</span></span>
<span id="cb9-51"><a href="sample_canopycov_hli.html#cb9-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">color =</span> f)) <span class="sc">+</span></span>
<span id="cb9-52"><a href="sample_canopycov_hli.html#cb9-52" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">paste0</span>(lab_1,<span class="st">&quot;</span><span class="sc">\n</span><span class="st">to &quot;</span>,lab))</span>
<span id="cb9-53"><a href="sample_canopycov_hli.html#cb9-53" aria-hidden="true" tabindex="-1"></a>            , <span class="at">size =</span> <span class="dv">3</span></span>
<span id="cb9-54"><a href="sample_canopycov_hli.html#cb9-54" aria-hidden="true" tabindex="-1"></a>            , <span class="at">hjust =</span> <span class="dv">0</span></span>
<span id="cb9-55"><a href="sample_canopycov_hli.html#cb9-55" aria-hidden="true" tabindex="-1"></a>            , <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">0.5</span></span>
<span id="cb9-56"><a href="sample_canopycov_hli.html#cb9-56" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb9-57"><a href="sample_canopycov_hli.html#cb9-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(<span class="at">cols =</span> <span class="fu">vars</span>(name), <span class="at">scales =</span> <span class="st">&quot;free_x&quot;</span>) <span class="sc">+</span></span>
<span id="cb9-58"><a href="sample_canopycov_hli.html#cb9-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_viridis_d</span>(<span class="at">option=</span><span class="st">&quot;turbo&quot;</span>) <span class="sc">+</span></span>
<span id="cb9-59"><a href="sample_canopycov_hli.html#cb9-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_discrete</span>(<span class="at">limits=</span>rev) <span class="sc">+</span></span>
<span id="cb9-60"><a href="sample_canopycov_hli.html#cb9-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb9-61"><a href="sample_canopycov_hli.html#cb9-61" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;&quot;</span></span>
<span id="cb9-62"><a href="sample_canopycov_hli.html#cb9-62" aria-hidden="true" tabindex="-1"></a>    , <span class="at">y =</span> <span class="st">&quot;Grouping&quot;</span></span>
<span id="cb9-63"><a href="sample_canopycov_hli.html#cb9-63" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb9-64"><a href="sample_canopycov_hli.html#cb9-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb9-65"><a href="sample_canopycov_hli.html#cb9-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb9-66"><a href="sample_canopycov_hli.html#cb9-66" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span></span>
<span id="cb9-67"><a href="sample_canopycov_hli.html#cb9-67" aria-hidden="true" tabindex="-1"></a>    , <span class="at">axis.text.x =</span> <span class="fu">element_blank</span>()</span>
<span id="cb9-68"><a href="sample_canopycov_hli.html#cb9-68" aria-hidden="true" tabindex="-1"></a>    , <span class="at">axis.title.x =</span> <span class="fu">element_blank</span>()</span>
<span id="cb9-69"><a href="sample_canopycov_hli.html#cb9-69" aria-hidden="true" tabindex="-1"></a>    , <span class="at">axis.line.x =</span> <span class="fu">element_blank</span>()</span>
<span id="cb9-70"><a href="sample_canopycov_hli.html#cb9-70" aria-hidden="true" tabindex="-1"></a>    , <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">color=</span><span class="st">&quot;black&quot;</span>, <span class="at">face=</span><span class="st">&quot;bold&quot;</span>, <span class="at">size=</span><span class="dv">11</span>)</span>
<span id="cb9-71"><a href="sample_canopycov_hli.html#cb9-71" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="bhef_rxfire_plan_files/figure-html/unnamed-chunk-6-1.png" width="960" /></p>
</div>
<div id="canopy-cover-and-hli-group-map" class="section level3 hasAnchor" number="5.5.2">
<h3><span class="header-section-number">5.5.2</span> Canopy Cover and HLI Group Map<a href="sample_canopycov_hli.html#canopy-cover-and-hli-group-map" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="sample_canopycov_hli.html#cb10-1" aria-hidden="true" tabindex="-1"></a>rast_grp_class_fn <span class="ot">&lt;-</span> <span class="cf">function</span>(layer_n, <span class="at">pct_cut_list =</span> <span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="fl">0.2</span>)) {</span>
<span id="cb10-2"><a href="sample_canopycov_hli.html#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># classify based on percentile</span></span>
<span id="cb10-3"><a href="sample_canopycov_hli.html#cb10-3" aria-hidden="true" tabindex="-1"></a>    cuts_temp <span class="ot">&lt;-</span> stats<span class="sc">::</span><span class="fu">quantile</span>(</span>
<span id="cb10-4"><a href="sample_canopycov_hli.html#cb10-4" aria-hidden="true" tabindex="-1"></a>      layers[[layer_n]] <span class="sc">%&gt;%</span> terra<span class="sc">::</span><span class="fu">values</span>()</span>
<span id="cb10-5"><a href="sample_canopycov_hli.html#cb10-5" aria-hidden="true" tabindex="-1"></a>      , <span class="at">probs =</span> pct_cut_list</span>
<span id="cb10-6"><a href="sample_canopycov_hli.html#cb10-6" aria-hidden="true" tabindex="-1"></a>      , <span class="at">na.rm =</span> T</span>
<span id="cb10-7"><a href="sample_canopycov_hli.html#cb10-7" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb10-8"><a href="sample_canopycov_hli.html#cb10-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># create classification raster based on percentiles</span></span>
<span id="cb10-9"><a href="sample_canopycov_hli.html#cb10-9" aria-hidden="true" tabindex="-1"></a>    rast_temp <span class="ot">&lt;-</span> layers[[layer_n]] <span class="sc">%&gt;%</span> </span>
<span id="cb10-10"><a href="sample_canopycov_hli.html#cb10-10" aria-hidden="true" tabindex="-1"></a>      <span class="fu">classify</span>(</span>
<span id="cb10-11"><a href="sample_canopycov_hli.html#cb10-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">rcl =</span> cuts_temp</span>
<span id="cb10-12"><a href="sample_canopycov_hli.html#cb10-12" aria-hidden="true" tabindex="-1"></a>        , <span class="at">include.lowest=</span><span class="cn">TRUE</span></span>
<span id="cb10-13"><a href="sample_canopycov_hli.html#cb10-13" aria-hidden="true" tabindex="-1"></a>        , <span class="at">brackets=</span><span class="cn">TRUE</span></span>
<span id="cb10-14"><a href="sample_canopycov_hli.html#cb10-14" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb10-15"><a href="sample_canopycov_hli.html#cb10-15" aria-hidden="true" tabindex="-1"></a>  <span class="co"># recode to get rid of bracket labels and set index to 1 instead of 0 based</span></span>
<span id="cb10-16"><a href="sample_canopycov_hli.html#cb10-16" aria-hidden="true" tabindex="-1"></a>    rcl_temp <span class="ot">&lt;-</span> rast_temp <span class="sc">%&gt;%</span> </span>
<span id="cb10-17"><a href="sample_canopycov_hli.html#cb10-17" aria-hidden="true" tabindex="-1"></a>      terra<span class="sc">::</span><span class="fu">levels</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb10-18"><a href="sample_canopycov_hli.html#cb10-18" aria-hidden="true" tabindex="-1"></a>      purrr<span class="sc">::</span><span class="fu">pluck</span>(<span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb10-19"><a href="sample_canopycov_hli.html#cb10-19" aria-hidden="true" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb10-20"><a href="sample_canopycov_hli.html#cb10-20" aria-hidden="true" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb10-21"><a href="sample_canopycov_hli.html#cb10-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">old =</span> value</span>
<span id="cb10-22"><a href="sample_canopycov_hli.html#cb10-22" aria-hidden="true" tabindex="-1"></a>        , <span class="at">new =</span> value<span class="sc">+</span><span class="dv">1</span></span>
<span id="cb10-23"><a href="sample_canopycov_hli.html#cb10-23" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">%&gt;%</span> </span>
<span id="cb10-24"><a href="sample_canopycov_hli.html#cb10-24" aria-hidden="true" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">select</span>(old,new)</span>
<span id="cb10-25"><a href="sample_canopycov_hli.html#cb10-25" aria-hidden="true" tabindex="-1"></a>  <span class="co"># classify</span></span>
<span id="cb10-26"><a href="sample_canopycov_hli.html#cb10-26" aria-hidden="true" tabindex="-1"></a>    rast_temp <span class="ot">&lt;-</span> rast_temp <span class="sc">%&gt;%</span> </span>
<span id="cb10-27"><a href="sample_canopycov_hli.html#cb10-27" aria-hidden="true" tabindex="-1"></a>      terra<span class="sc">::</span><span class="fu">classify</span>(<span class="at">rcl=</span>rcl_temp) <span class="sc">%&gt;%</span> </span>
<span id="cb10-28"><a href="sample_canopycov_hli.html#cb10-28" aria-hidden="true" tabindex="-1"></a>      terra<span class="sc">::</span><span class="fu">categories</span>(</span>
<span id="cb10-29"><a href="sample_canopycov_hli.html#cb10-29" aria-hidden="true" tabindex="-1"></a>        <span class="at">value =</span> rcl_temp <span class="sc">%&gt;%</span> </span>
<span id="cb10-30"><a href="sample_canopycov_hli.html#cb10-30" aria-hidden="true" tabindex="-1"></a>          dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">category =</span> new) <span class="sc">%&gt;%</span> </span>
<span id="cb10-31"><a href="sample_canopycov_hli.html#cb10-31" aria-hidden="true" tabindex="-1"></a>          dplyr<span class="sc">::</span><span class="fu">select</span>(new,category) <span class="sc">%&gt;%</span> </span>
<span id="cb10-32"><a href="sample_canopycov_hli.html#cb10-32" aria-hidden="true" tabindex="-1"></a>          dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">id=</span>new)</span>
<span id="cb10-33"><a href="sample_canopycov_hli.html#cb10-33" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb10-34"><a href="sample_canopycov_hli.html#cb10-34" aria-hidden="true" tabindex="-1"></a>  <span class="co"># return</span></span>
<span id="cb10-35"><a href="sample_canopycov_hli.html#cb10-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(rast_temp)</span>
<span id="cb10-36"><a href="sample_canopycov_hli.html#cb10-36" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb10-37"><a href="sample_canopycov_hli.html#cb10-37" aria-hidden="true" tabindex="-1"></a><span class="co"># create grouped raster stack</span></span>
<span id="cb10-38"><a href="sample_canopycov_hli.html#cb10-38" aria-hidden="true" tabindex="-1"></a>layers_grp <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span>(layers <span class="sc">%&gt;%</span> terra<span class="sc">::</span><span class="fu">nlyr</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb10-39"><a href="sample_canopycov_hli.html#cb10-39" aria-hidden="true" tabindex="-1"></a>  purrr<span class="sc">::</span><span class="fu">map</span>(rast_grp_class_fn) <span class="sc">%&gt;%</span> </span>
<span id="cb10-40"><a href="sample_canopycov_hli.html#cb10-40" aria-hidden="true" tabindex="-1"></a>  terra<span class="sc">::</span><span class="fu">rast</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb10-41"><a href="sample_canopycov_hli.html#cb10-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">setNames</span>(</span>
<span id="cb10-42"><a href="sample_canopycov_hli.html#cb10-42" aria-hidden="true" tabindex="-1"></a>    <span class="fu">names</span>(layers)</span>
<span id="cb10-43"><a href="sample_canopycov_hli.html#cb10-43" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb10-44"><a href="sample_canopycov_hli.html#cb10-44" aria-hidden="true" tabindex="-1"></a><span class="co"># plot</span></span>
<span id="cb10-45"><a href="sample_canopycov_hli.html#cb10-45" aria-hidden="true" tabindex="-1"></a>nm_temp <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;% Canopy Cov.&quot;</span>, <span class="st">&quot;HLI&quot;</span>)</span>
<span id="cb10-46"><a href="sample_canopycov_hli.html#cb10-46" aria-hidden="true" tabindex="-1"></a>plt_fn_temp <span class="ot">&lt;-</span> <span class="cf">function</span>(layer_n) {</span>
<span id="cb10-47"><a href="sample_canopycov_hli.html#cb10-47" aria-hidden="true" tabindex="-1"></a>  plt <span class="ot">&lt;-</span> layers_grp[[layer_n]] <span class="sc">%&gt;%</span> </span>
<span id="cb10-48"><a href="sample_canopycov_hli.html#cb10-48" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as.data.frame</span>(<span class="at">xy=</span>T) <span class="sc">%&gt;%</span> </span>
<span id="cb10-49"><a href="sample_canopycov_hli.html#cb10-49" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">f=</span><span class="dv">3</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb10-50"><a href="sample_canopycov_hli.html#cb10-50" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb10-51"><a href="sample_canopycov_hli.html#cb10-51" aria-hidden="true" tabindex="-1"></a>      <span class="at">f =</span> <span class="fu">factor</span>(</span>
<span id="cb10-52"><a href="sample_canopycov_hli.html#cb10-52" aria-hidden="true" tabindex="-1"></a>        f</span>
<span id="cb10-53"><a href="sample_canopycov_hli.html#cb10-53" aria-hidden="true" tabindex="-1"></a>        , <span class="at">levels =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span></span>
<span id="cb10-54"><a href="sample_canopycov_hli.html#cb10-54" aria-hidden="true" tabindex="-1"></a>        , <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;low&quot;</span>,<span class="st">&quot;med.low&quot;</span>,<span class="st">&quot;medium&quot;</span>,<span class="st">&quot;med.high&quot;</span>,<span class="st">&quot;high&quot;</span>)</span>
<span id="cb10-55"><a href="sample_canopycov_hli.html#cb10-55" aria-hidden="true" tabindex="-1"></a>        , <span class="at">ordered =</span> T</span>
<span id="cb10-56"><a href="sample_canopycov_hli.html#cb10-56" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb10-57"><a href="sample_canopycov_hli.html#cb10-57" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb10-58"><a href="sample_canopycov_hli.html#cb10-58" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb10-59"><a href="sample_canopycov_hli.html#cb10-59" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_raster</span>(<span class="at">mapping=</span><span class="fu">aes</span>(<span class="at">x=</span>x,<span class="at">y=</span>y,<span class="at">fill=</span>f)) <span class="sc">+</span></span>
<span id="cb10-60"><a href="sample_canopycov_hli.html#cb10-60" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_sf</span>(<span class="at">data =</span> bhef_boundary, <span class="at">alpha =</span> <span class="dv">0</span>, <span class="at">lwd =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">linetype =</span> <span class="st">&quot;dashed&quot;</span>) <span class="sc">+</span></span>
<span id="cb10-61"><a href="sample_canopycov_hli.html#cb10-61" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_sf</span>(<span class="at">data =</span> rx_fire, <span class="at">alpha =</span> <span class="dv">0</span>, <span class="at">lwd =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">&quot;orangered&quot;</span>) <span class="sc">+</span></span>
<span id="cb10-62"><a href="sample_canopycov_hli.html#cb10-62" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_sf_label</span>(<span class="at">data =</span> rx_fire, <span class="fu">aes</span>(<span class="at">label =</span> unit)</span>
<span id="cb10-63"><a href="sample_canopycov_hli.html#cb10-63" aria-hidden="true" tabindex="-1"></a>        , <span class="at">label.size =</span> <span class="cn">NA</span></span>
<span id="cb10-64"><a href="sample_canopycov_hli.html#cb10-64" aria-hidden="true" tabindex="-1"></a>        , <span class="at">alpha =</span> <span class="dv">0</span></span>
<span id="cb10-65"><a href="sample_canopycov_hli.html#cb10-65" aria-hidden="true" tabindex="-1"></a>        , <span class="at">size =</span> <span class="dv">3</span></span>
<span id="cb10-66"><a href="sample_canopycov_hli.html#cb10-66" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">+</span></span>
<span id="cb10-67"><a href="sample_canopycov_hli.html#cb10-67" aria-hidden="true" tabindex="-1"></a>      <span class="fu">coord_sf</span>(<span class="at">expand =</span> F) <span class="sc">+</span></span>
<span id="cb10-68"><a href="sample_canopycov_hli.html#cb10-68" aria-hidden="true" tabindex="-1"></a>      <span class="fu">scale_fill_viridis_d</span>(<span class="at">option =</span> <span class="st">&quot;turbo&quot;</span>, <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span> </span>
<span id="cb10-69"><a href="sample_canopycov_hli.html#cb10-69" aria-hidden="true" tabindex="-1"></a>      <span class="fu">scale_x_continuous</span>(<span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb10-70"><a href="sample_canopycov_hli.html#cb10-70" aria-hidden="true" tabindex="-1"></a>      <span class="fu">scale_y_continuous</span>(<span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb10-71"><a href="sample_canopycov_hli.html#cb10-71" aria-hidden="true" tabindex="-1"></a>      <span class="fu">labs</span>(</span>
<span id="cb10-72"><a href="sample_canopycov_hli.html#cb10-72" aria-hidden="true" tabindex="-1"></a>          <span class="at">title =</span> nm_temp[layer_n]</span>
<span id="cb10-73"><a href="sample_canopycov_hli.html#cb10-73" aria-hidden="true" tabindex="-1"></a>          , <span class="at">subtitle =</span> <span class="fu">paste0</span>(<span class="st">&quot;Rx fire units&quot;</span>)</span>
<span id="cb10-74"><a href="sample_canopycov_hli.html#cb10-74" aria-hidden="true" tabindex="-1"></a>          , <span class="at">x=</span><span class="st">&quot;&quot;</span></span>
<span id="cb10-75"><a href="sample_canopycov_hli.html#cb10-75" aria-hidden="true" tabindex="-1"></a>          , <span class="at">y=</span><span class="st">&quot;&quot;</span></span>
<span id="cb10-76"><a href="sample_canopycov_hli.html#cb10-76" aria-hidden="true" tabindex="-1"></a>          , <span class="at">fill =</span> nm_temp[layer_n]</span>
<span id="cb10-77"><a href="sample_canopycov_hli.html#cb10-77" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">+</span></span>
<span id="cb10-78"><a href="sample_canopycov_hli.html#cb10-78" aria-hidden="true" tabindex="-1"></a>      <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb10-79"><a href="sample_canopycov_hli.html#cb10-79" aria-hidden="true" tabindex="-1"></a>      <span class="fu">theme</span>(</span>
<span id="cb10-80"><a href="sample_canopycov_hli.html#cb10-80" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">&quot;bottom&quot;</span></span>
<span id="cb10-81"><a href="sample_canopycov_hli.html#cb10-81" aria-hidden="true" tabindex="-1"></a>        , <span class="at">legend.direction =</span> <span class="st">&quot;horizontal&quot;</span></span>
<span id="cb10-82"><a href="sample_canopycov_hli.html#cb10-82" aria-hidden="true" tabindex="-1"></a>        , <span class="at">legend.margin =</span> <span class="fu">margin</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>)</span>
<span id="cb10-83"><a href="sample_canopycov_hli.html#cb10-83" aria-hidden="true" tabindex="-1"></a>        , <span class="at">legend.box.margin =</span> <span class="fu">margin</span>(<span class="sc">-</span><span class="dv">21</span>,<span class="dv">0</span>,<span class="dv">2</span>,<span class="dv">0</span>)</span>
<span id="cb10-84"><a href="sample_canopycov_hli.html#cb10-84" aria-hidden="true" tabindex="-1"></a>        , <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>)</span>
<span id="cb10-85"><a href="sample_canopycov_hli.html#cb10-85" aria-hidden="true" tabindex="-1"></a>        , <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>)</span>
<span id="cb10-86"><a href="sample_canopycov_hli.html#cb10-86" aria-hidden="true" tabindex="-1"></a>        , <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>)</span>
<span id="cb10-87"><a href="sample_canopycov_hli.html#cb10-87" aria-hidden="true" tabindex="-1"></a>        , <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>, <span class="at">angle =</span> <span class="dv">35</span>, <span class="at">hjust =</span> <span class="fl">0.7</span>)</span>
<span id="cb10-88"><a href="sample_canopycov_hli.html#cb10-88" aria-hidden="true" tabindex="-1"></a>        , <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>, <span class="at">margin =</span> <span class="fu">margin</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">2</span>,<span class="dv">0</span>))</span>
<span id="cb10-89"><a href="sample_canopycov_hli.html#cb10-89" aria-hidden="true" tabindex="-1"></a>        , <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">8</span>, <span class="at">face=</span><span class="st">&quot;italic&quot;</span>, <span class="at">color=</span><span class="st">&quot;orangered&quot;</span>, <span class="at">margin =</span> <span class="fu">margin</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>))</span>
<span id="cb10-90"><a href="sample_canopycov_hli.html#cb10-90" aria-hidden="true" tabindex="-1"></a>        , <span class="at">panel.border =</span> <span class="fu">element_blank</span>()</span>
<span id="cb10-91"><a href="sample_canopycov_hli.html#cb10-91" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb10-92"><a href="sample_canopycov_hli.html#cb10-92" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(plt)</span>
<span id="cb10-93"><a href="sample_canopycov_hli.html#cb10-93" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb10-94"><a href="sample_canopycov_hli.html#cb10-94" aria-hidden="true" tabindex="-1"></a><span class="co"># plot</span></span>
<span id="cb10-95"><a href="sample_canopycov_hli.html#cb10-95" aria-hidden="true" tabindex="-1"></a>plt_list_temp <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span>(layers_grp <span class="sc">%&gt;%</span> terra<span class="sc">::</span><span class="fu">nlyr</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb10-96"><a href="sample_canopycov_hli.html#cb10-96" aria-hidden="true" tabindex="-1"></a>  purrr<span class="sc">::</span><span class="fu">map</span>(plt_fn_temp)</span>
<span id="cb10-97"><a href="sample_canopycov_hli.html#cb10-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-98"><a href="sample_canopycov_hli.html#cb10-98" aria-hidden="true" tabindex="-1"></a><span class="co"># combine</span></span>
<span id="cb10-99"><a href="sample_canopycov_hli.html#cb10-99" aria-hidden="true" tabindex="-1"></a>cowplot<span class="sc">::</span><span class="fu">plot_grid</span>(</span>
<span id="cb10-100"><a href="sample_canopycov_hli.html#cb10-100" aria-hidden="true" tabindex="-1"></a>  <span class="at">plotlist =</span> plt_list_temp</span>
<span id="cb10-101"><a href="sample_canopycov_hli.html#cb10-101" aria-hidden="true" tabindex="-1"></a>  , <span class="at">nrow =</span> <span class="dv">1</span></span>
<span id="cb10-102"><a href="sample_canopycov_hli.html#cb10-102" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="bhef_rxfire_plan_files/figure-html/class-create-1.png" width="960" /></p>
</div>
<div id="map-of-grouped-canopy-cover-and-hli" class="section level3 hasAnchor" number="5.5.3">
<h3><span class="header-section-number">5.5.3</span> Map of grouped Canopy Cover and HLI<a href="sample_canopycov_hli.html#map-of-grouped-canopy-cover-and-hli" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="sample_canopycov_hli.html#cb11-1" aria-hidden="true" tabindex="-1"></a>l1_temp <span class="ot">&lt;-</span> layers_grp[[<span class="dv">1</span>]] <span class="sc">%&gt;%</span> </span>
<span id="cb11-2"><a href="sample_canopycov_hli.html#cb11-2" aria-hidden="true" tabindex="-1"></a>  stars<span class="sc">::</span><span class="fu">st_as_stars</span>()</span>
<span id="cb11-3"><a href="sample_canopycov_hli.html#cb11-3" aria-hidden="true" tabindex="-1"></a>l2_temp <span class="ot">&lt;-</span> layers_grp[[<span class="dv">2</span>]] <span class="sc">%&gt;%</span> </span>
<span id="cb11-4"><a href="sample_canopycov_hli.html#cb11-4" aria-hidden="true" tabindex="-1"></a>  stars<span class="sc">::</span><span class="fu">st_as_stars</span>()</span>
<span id="cb11-5"><a href="sample_canopycov_hli.html#cb11-5" aria-hidden="true" tabindex="-1"></a>mapview<span class="sc">::</span><span class="fu">mapviewOptions</span>(</span>
<span id="cb11-6"><a href="sample_canopycov_hli.html#cb11-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">homebutton =</span> <span class="cn">FALSE</span></span>
<span id="cb11-7"><a href="sample_canopycov_hli.html#cb11-7" aria-hidden="true" tabindex="-1"></a>  , <span class="at">basemaps =</span> <span class="fu">c</span>(<span class="st">&quot;Esri.WorldImagery&quot;</span>,<span class="st">&quot;OpenTopoMap&quot;</span>)</span>
<span id="cb11-8"><a href="sample_canopycov_hli.html#cb11-8" aria-hidden="true" tabindex="-1"></a>  , <span class="at">na.color =</span> <span class="st">&quot;transparent&quot;</span></span>
<span id="cb11-9"><a href="sample_canopycov_hli.html#cb11-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb11-10"><a href="sample_canopycov_hli.html#cb11-10" aria-hidden="true" tabindex="-1"></a>mapview<span class="sc">::</span><span class="fu">mapview</span>(</span>
<span id="cb11-11"><a href="sample_canopycov_hli.html#cb11-11" aria-hidden="true" tabindex="-1"></a>  l1_temp</span>
<span id="cb11-12"><a href="sample_canopycov_hli.html#cb11-12" aria-hidden="true" tabindex="-1"></a>  , <span class="at">col.regions =</span> viridis<span class="sc">::</span><span class="fu">turbo</span>(<span class="at">n=</span><span class="dv">5</span>)</span>
<span id="cb11-13"><a href="sample_canopycov_hli.html#cb11-13" aria-hidden="true" tabindex="-1"></a>  , <span class="at">legend =</span> <span class="cn">TRUE</span></span>
<span id="cb11-14"><a href="sample_canopycov_hli.html#cb11-14" aria-hidden="true" tabindex="-1"></a>  , <span class="at">layer.name =</span> <span class="fu">names</span>(layers_grp[[<span class="dv">1</span>]])</span>
<span id="cb11-15"><a href="sample_canopycov_hli.html#cb11-15" aria-hidden="true" tabindex="-1"></a>) <span class="sc">+</span> </span>
<span id="cb11-16"><a href="sample_canopycov_hli.html#cb11-16" aria-hidden="true" tabindex="-1"></a>mapview<span class="sc">::</span><span class="fu">mapview</span>(</span>
<span id="cb11-17"><a href="sample_canopycov_hli.html#cb11-17" aria-hidden="true" tabindex="-1"></a>  l2_temp</span>
<span id="cb11-18"><a href="sample_canopycov_hli.html#cb11-18" aria-hidden="true" tabindex="-1"></a>  , <span class="at">col.regions =</span> viridis<span class="sc">::</span><span class="fu">turbo</span>(<span class="at">n=</span><span class="dv">5</span>)</span>
<span id="cb11-19"><a href="sample_canopycov_hli.html#cb11-19" aria-hidden="true" tabindex="-1"></a>  , <span class="at">legend =</span> T</span>
<span id="cb11-20"><a href="sample_canopycov_hli.html#cb11-20" aria-hidden="true" tabindex="-1"></a>  , <span class="at">layer.name =</span> <span class="fu">names</span>(layers_grp[[<span class="dv">2</span>]])</span>
<span id="cb11-21"><a href="sample_canopycov_hli.html#cb11-21" aria-hidden="true" tabindex="-1"></a>  , <span class="at">hide =</span> T</span>
<span id="cb11-22"><a href="sample_canopycov_hli.html#cb11-22" aria-hidden="true" tabindex="-1"></a>) </span></code></pre></div>
<div class="leaflet html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-cf6bff34943d4061fa69" style="width:960px;height:768px;"></div>
<script type="application/json" data-for="htmlwidget-cf6bff34943d4061fa69">{"x":{"options":{"minZoom":1,"maxZoom":52,"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"preferCanvas":false,"bounceAtZoomLimits":false,"maxBounds":[[[-90,-370]],[[90,370]]]},"calls":[{"method":"addProviderTiles","args":["Esri.WorldImagery","Esri.WorldImagery","Esri.WorldImagery",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenTopoMap","OpenTopoMap","OpenTopoMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addRasterImage","args":["data:image/png;base64,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",[[44.1913719300892,-103.662262385463],[44.1390262611024,-103.610899743621]],0.8,null,"crowncov","crowncov"]},{"method":"removeLayersControl","args":[]},{"method":"addControl","args":["","topright","imageValues-crowncov","info legend "]},{"method":"addImageQuery","args":["crowncov",[-103.662262385463,44.1388513686748,-103.610802845492,44.1913719300892],"mousemove",7,"Layer"]},{"method":"addLegend","args":[{"colors":["#30123B","#28BBEC","#A2FC3C","#FB8022","#7A0403"],"labels":["1","2","3","4","5"],"na_color":"#FFFFFF","na_label":"NA","opacity":1,"position":"topright","type":"factor","title":"crowncov","extra":null,"layerId":null,"className":"info legend","group":"crowncov"}]},{"method":"addScaleBar","args":[{"maxWidth":100,"metric":true,"imperial":true,"updateWhenIdle":true,"position":"bottomleft"}]},{"method":"addRasterImage","args":["data:image/png;base64,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",[[44.1913719300892,-103.662262385463],[44.1390262611024,-103.610899743621]],0.8,null,"hli","hli"]},{"method":"addLayersControl","args":[["Esri.WorldImagery","OpenTopoMap"],["crowncov","hli"],{"collapsed":true,"autoZIndex":true,"position":"topleft"}]},{"method":"addControl","args":["","topright","imageValues-hli","info legend "]},{"method":"addImageQuery","args":["hli",[-103.662262385463,44.1388513686748,-103.610802845492,44.1913719300892],"mousemove",7,"Layer"]},{"method":"addLegend","args":[{"colors":["#30123B","#28BBEC","#A2FC3C","#FB8022","#7A0403"],"labels":["1","2","3","4","5"],"na_color":"#FFFFFF","na_label":"NA","opacity":1,"position":"topright","type":"factor","title":"hli","extra":null,"layerId":null,"className":"info legend","group":"hli"}]},{"method":"hideGroup","args":["hli"]},{"method":"addHomeButton","args":[-103.662262385463,44.1390262611024,-103.610899743621,44.1913719300892,true,null,"Zoom to full extent","<strong>Zoom full<\/strong>","bottomleft"]}],"limits":{"lat":[44.1390262611024,44.1913719300892],"lng":[-103.662262385463,-103.610899743621]},"fitBounds":[44.1390262611024,-103.662262385463,44.1913719300892,-103.610899743621,[]]},"evals":[],"jsHooks":{"render":[{"code":"function(el, x, data) {\n  return (\n      function(el, x, data) {\n      // get the leaflet map\n      var map = this; //HTMLWidgets.find('#' + el.id);\n      // we need a new div element because we have to handle\n      // the mouseover output separately\n      // debugger;\n      function addElement () {\n      // generate new div Element\n      var newDiv = $(document.createElement('div'));\n      // append at end of leaflet htmlwidget container\n      $(el).append(newDiv);\n      //provide ID and style\n      newDiv.addClass('lnlt');\n      newDiv.css({\n      'position': 'relative',\n      'bottomleft':  '0px',\n      'background-color': 'rgba(255, 255, 255, 0.7)',\n      'box-shadow': '0 0 2px #bbb',\n      'background-clip': 'padding-box',\n      'margin': '0',\n      'padding-left': '5px',\n      'color': '#333',\n      'font': '9px/1.5 \"Helvetica Neue\", Arial, Helvetica, sans-serif',\n      'z-index': '700',\n      });\n      return newDiv;\n      }\n\n\n      // check for already existing lnlt class to not duplicate\n      var lnlt = $(el).find('.lnlt');\n\n      if(!lnlt.length) {\n      lnlt = addElement();\n\n      // grab the special div we generated in the beginning\n      // and put the mousmove output there\n\n      map.on('mousemove', function (e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                           ' lon: ' + (e.latlng.lng).toFixed(5) +\n                           ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                           ' | zoom: ' + map.getZoom() +\n                           ' | x: ' + L.CRS.EPSG3857.project(e.latlng).x.toFixed(0) +\n                           ' | y: ' + L.CRS.EPSG3857.project(e.latlng).y.toFixed(0) +\n                           ' | epsg: 3857 ' +\n                           ' | proj4: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs ');\n      } else {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      }\n      });\n\n      // remove the lnlt div when mouse leaves map\n      map.on('mouseout', function (e) {\n      var strip = document.querySelector('.lnlt');\n      if( strip !==null) strip.remove();\n      });\n\n      };\n\n      //$(el).keypress(67, function(e) {\n      map.on('preclick', function(e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      var txt = document.querySelector('.lnlt').textContent;\n      console.log(txt);\n      //txt.innerText.focus();\n      //txt.select();\n      setClipboardText('\"' + txt + '\"');\n      }\n      });\n\n      }\n      ).call(this.getMap(), el, x, data);\n}","data":null},{"code":"function(el, x, data) {\n  return (function(el,x,data){\n           var map = this;\n\n           map.on('keypress', function(e) {\n               console.log(e.originalEvent.code);\n               var key = e.originalEvent.code;\n               if (key === 'KeyE') {\n                   var bb = this.getBounds();\n                   var txt = JSON.stringify(bb);\n                   console.log(txt);\n\n                   setClipboardText('\\'' + txt + '\\'');\n               }\n           })\n        }).call(this.getMap(), el, x, data);\n}","data":null}]}}</script>
</div>
<div id="combine-grouped-canopy-cover-and-hli" class="section level3 hasAnchor" number="5.5.4">
<h3><span class="header-section-number">5.5.4</span> Combine Grouped Canopy Cover and HLI<a href="sample_canopycov_hli.html#combine-grouped-canopy-cover-and-hli" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="sample_canopycov_hli.html#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># combine layers for classification</span></span>
<span id="cb12-2"><a href="sample_canopycov_hli.html#cb12-2" aria-hidden="true" tabindex="-1"></a>concat_rast <span class="ot">&lt;-</span> terra<span class="sc">::</span><span class="fu">concats</span>(layers_grp[[<span class="dv">1</span>]], layers_grp[[<span class="dv">2</span>]]) <span class="sc">%&gt;%</span> </span>
<span id="cb12-3"><a href="sample_canopycov_hli.html#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">setNames</span>(</span>
<span id="cb12-4"><a href="sample_canopycov_hli.html#cb12-4" aria-hidden="true" tabindex="-1"></a>    (layers <span class="sc">%&gt;%</span> <span class="fu">names</span>() <span class="sc">%&gt;%</span> <span class="fu">paste</span>(<span class="at">collapse =</span> <span class="st">&quot;_&quot;</span>))</span>
<span id="cb12-5"><a href="sample_canopycov_hli.html#cb12-5" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb12-6"><a href="sample_canopycov_hli.html#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="co"># data_frame</span></span>
<span id="cb12-7"><a href="sample_canopycov_hli.html#cb12-7" aria-hidden="true" tabindex="-1"></a>concat_sf <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb12-8"><a href="sample_canopycov_hli.html#cb12-8" aria-hidden="true" tabindex="-1"></a>    concat_rast</span>
<span id="cb12-9"><a href="sample_canopycov_hli.html#cb12-9" aria-hidden="true" tabindex="-1"></a>    , layers</span>
<span id="cb12-10"><a href="sample_canopycov_hli.html#cb12-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb12-11"><a href="sample_canopycov_hli.html#cb12-11" aria-hidden="true" tabindex="-1"></a>  terra<span class="sc">::</span><span class="fu">as.points</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb12-12"><a href="sample_canopycov_hli.html#cb12-12" aria-hidden="true" tabindex="-1"></a>  sf<span class="sc">::</span><span class="fu">st_as_sf</span>(<span class="at">crs =</span> sf<span class="sc">::</span><span class="fu">st_crs</span>(bhef_boundary)) <span class="sc">%&gt;%</span> </span>
<span id="cb12-13"><a href="sample_canopycov_hli.html#cb12-13" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb12-14"><a href="sample_canopycov_hli.html#cb12-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> sf<span class="sc">::</span><span class="fu">st_coordinates</span>(geometry)[,<span class="dv">1</span>] <span class="co">#lon</span></span>
<span id="cb12-15"><a href="sample_canopycov_hli.html#cb12-15" aria-hidden="true" tabindex="-1"></a>    , <span class="at">y =</span> sf<span class="sc">::</span><span class="fu">st_coordinates</span>(geometry)[,<span class="dv">2</span>] <span class="co">#lat</span></span>
<span id="cb12-16"><a href="sample_canopycov_hli.html#cb12-16" aria-hidden="true" tabindex="-1"></a>    , <span class="at">crowncov_grp =</span> stringr<span class="sc">::</span><span class="fu">str_split_i</span>(crowncov_hli, <span class="st">&quot;_&quot;</span>, <span class="dv">1</span>)</span>
<span id="cb12-17"><a href="sample_canopycov_hli.html#cb12-17" aria-hidden="true" tabindex="-1"></a>    , <span class="at">hli_grp =</span> stringr<span class="sc">::</span><span class="fu">str_split_i</span>(crowncov_hli, <span class="st">&quot;_&quot;</span>, <span class="dv">2</span>)</span>
<span id="cb12-18"><a href="sample_canopycov_hli.html#cb12-18" aria-hidden="true" tabindex="-1"></a>    , <span class="at">crowncov_hli_filter =</span> forcats<span class="sc">::</span><span class="fu">fct_other</span>(</span>
<span id="cb12-19"><a href="sample_canopycov_hli.html#cb12-19" aria-hidden="true" tabindex="-1"></a>      <span class="at">f =</span> crowncov_hli</span>
<span id="cb12-20"><a href="sample_canopycov_hli.html#cb12-20" aria-hidden="true" tabindex="-1"></a>      , <span class="at">keep =</span> <span class="fu">c</span>(</span>
<span id="cb12-21"><a href="sample_canopycov_hli.html#cb12-21" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;1_1&quot;</span>,<span class="st">&quot;1_3&quot;</span>,<span class="st">&quot;1_5&quot;</span></span>
<span id="cb12-22"><a href="sample_canopycov_hli.html#cb12-22" aria-hidden="true" tabindex="-1"></a>        , <span class="st">&quot;3_1&quot;</span>,<span class="st">&quot;3_3&quot;</span>,<span class="st">&quot;3_5&quot;</span></span>
<span id="cb12-23"><a href="sample_canopycov_hli.html#cb12-23" aria-hidden="true" tabindex="-1"></a>        , <span class="st">&quot;5_1&quot;</span>,<span class="st">&quot;5_3&quot;</span>,<span class="st">&quot;5_5&quot;</span></span>
<span id="cb12-24"><a href="sample_canopycov_hli.html#cb12-24" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb12-25"><a href="sample_canopycov_hli.html#cb12-25" aria-hidden="true" tabindex="-1"></a>      , <span class="at">other_level =</span> <span class="st">&quot;other&quot;</span></span>
<span id="cb12-26"><a href="sample_canopycov_hli.html#cb12-26" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb12-27"><a href="sample_canopycov_hli.html#cb12-27" aria-hidden="true" tabindex="-1"></a>    , dplyr<span class="sc">::</span><span class="fu">across</span>(</span>
<span id="cb12-28"><a href="sample_canopycov_hli.html#cb12-28" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(crowncov_grp,hli_grp)</span>
<span id="cb12-29"><a href="sample_canopycov_hli.html#cb12-29" aria-hidden="true" tabindex="-1"></a>      , <span class="sc">~</span> <span class="fu">factor</span>(</span>
<span id="cb12-30"><a href="sample_canopycov_hli.html#cb12-30" aria-hidden="true" tabindex="-1"></a>          .x</span>
<span id="cb12-31"><a href="sample_canopycov_hli.html#cb12-31" aria-hidden="true" tabindex="-1"></a>          , <span class="at">levels =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span></span>
<span id="cb12-32"><a href="sample_canopycov_hli.html#cb12-32" aria-hidden="true" tabindex="-1"></a>          , <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;low&quot;</span>,<span class="st">&quot;med.low&quot;</span>,<span class="st">&quot;medium&quot;</span>,<span class="st">&quot;med.high&quot;</span>,<span class="st">&quot;high&quot;</span>)</span>
<span id="cb12-33"><a href="sample_canopycov_hli.html#cb12-33" aria-hidden="true" tabindex="-1"></a>          , <span class="at">ordered =</span> T</span>
<span id="cb12-34"><a href="sample_canopycov_hli.html#cb12-34" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb12-35"><a href="sample_canopycov_hli.html#cb12-35" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb12-36"><a href="sample_canopycov_hli.html#cb12-36" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb12-37"><a href="sample_canopycov_hli.html#cb12-37" aria-hidden="true" tabindex="-1"></a>  sf<span class="sc">::</span><span class="fu">st_intersection</span>(</span>
<span id="cb12-38"><a href="sample_canopycov_hli.html#cb12-38" aria-hidden="true" tabindex="-1"></a>    rx_fire <span class="sc">%&gt;%</span> </span>
<span id="cb12-39"><a href="sample_canopycov_hli.html#cb12-39" aria-hidden="true" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">select</span>(unit) <span class="sc">%&gt;%</span> </span>
<span id="cb12-40"><a href="sample_canopycov_hli.html#cb12-40" aria-hidden="true" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">rx_fire_unit =</span> unit)</span>
<span id="cb12-41"><a href="sample_canopycov_hli.html#cb12-41" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb12-42"><a href="sample_canopycov_hli.html#cb12-42" aria-hidden="true" tabindex="-1"></a><span class="co"># plot</span></span>
<span id="cb12-43"><a href="sample_canopycov_hli.html#cb12-43" aria-hidden="true" tabindex="-1"></a>   concat_sf <span class="sc">%&gt;%</span> </span>
<span id="cb12-44"><a href="sample_canopycov_hli.html#cb12-44" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(crowncov_hli_filter<span class="sc">!=</span><span class="st">&quot;other&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb12-45"><a href="sample_canopycov_hli.html#cb12-45" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb12-46"><a href="sample_canopycov_hli.html#cb12-46" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_tile</span>(<span class="fu">aes</span>(<span class="at">x=</span>x,<span class="at">y=</span>y,<span class="at">fill=</span>crowncov_hli_filter)) <span class="sc">+</span></span>
<span id="cb12-47"><a href="sample_canopycov_hli.html#cb12-47" aria-hidden="true" tabindex="-1"></a>      <span class="co"># geom_sf(size = 0.2) +</span></span>
<span id="cb12-48"><a href="sample_canopycov_hli.html#cb12-48" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_sf</span>(<span class="at">data =</span> bhef_boundary, <span class="at">alpha =</span> <span class="dv">0</span>, <span class="at">lwd =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">linetype =</span> <span class="st">&quot;dashed&quot;</span>) <span class="sc">+</span></span>
<span id="cb12-49"><a href="sample_canopycov_hli.html#cb12-49" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_sf</span>(<span class="at">data =</span> rx_fire, <span class="at">alpha =</span> <span class="dv">0</span>, <span class="at">lwd =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">&quot;orangered&quot;</span>) <span class="sc">+</span></span>
<span id="cb12-50"><a href="sample_canopycov_hli.html#cb12-50" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_sf_label</span>(<span class="at">data =</span> rx_fire, <span class="fu">aes</span>(<span class="at">label =</span> unit)</span>
<span id="cb12-51"><a href="sample_canopycov_hli.html#cb12-51" aria-hidden="true" tabindex="-1"></a>        , <span class="at">label.size =</span> <span class="cn">NA</span></span>
<span id="cb12-52"><a href="sample_canopycov_hli.html#cb12-52" aria-hidden="true" tabindex="-1"></a>        , <span class="at">alpha =</span> <span class="dv">0</span></span>
<span id="cb12-53"><a href="sample_canopycov_hli.html#cb12-53" aria-hidden="true" tabindex="-1"></a>        , <span class="at">size =</span> <span class="dv">3</span></span>
<span id="cb12-54"><a href="sample_canopycov_hli.html#cb12-54" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">+</span></span>
<span id="cb12-55"><a href="sample_canopycov_hli.html#cb12-55" aria-hidden="true" tabindex="-1"></a>      <span class="fu">coord_sf</span>(<span class="at">expand =</span> F) <span class="sc">+</span></span>
<span id="cb12-56"><a href="sample_canopycov_hli.html#cb12-56" aria-hidden="true" tabindex="-1"></a>      <span class="fu">scale_fill_viridis_d</span>(<span class="at">option =</span> <span class="st">&quot;turbo&quot;</span>, <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span> </span>
<span id="cb12-57"><a href="sample_canopycov_hli.html#cb12-57" aria-hidden="true" tabindex="-1"></a>      <span class="fu">scale_x_continuous</span>(<span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb12-58"><a href="sample_canopycov_hli.html#cb12-58" aria-hidden="true" tabindex="-1"></a>      <span class="fu">scale_y_continuous</span>(<span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb12-59"><a href="sample_canopycov_hli.html#cb12-59" aria-hidden="true" tabindex="-1"></a>      <span class="fu">labs</span>(</span>
<span id="cb12-60"><a href="sample_canopycov_hli.html#cb12-60" aria-hidden="true" tabindex="-1"></a>          <span class="at">title =</span> <span class="st">&quot;Canopy Cover (1=low,3=med,5=hi)</span><span class="sc">\n</span><span class="st">x HLI (1=low,3=med,5=hi)&quot;</span></span>
<span id="cb12-61"><a href="sample_canopycov_hli.html#cb12-61" aria-hidden="true" tabindex="-1"></a>          , <span class="at">subtitle =</span> <span class="fu">paste0</span>(<span class="st">&quot;Rx fire units&quot;</span>)</span>
<span id="cb12-62"><a href="sample_canopycov_hli.html#cb12-62" aria-hidden="true" tabindex="-1"></a>          , <span class="at">x=</span><span class="st">&quot;&quot;</span></span>
<span id="cb12-63"><a href="sample_canopycov_hli.html#cb12-63" aria-hidden="true" tabindex="-1"></a>          , <span class="at">y=</span><span class="st">&quot;&quot;</span></span>
<span id="cb12-64"><a href="sample_canopycov_hli.html#cb12-64" aria-hidden="true" tabindex="-1"></a>          , <span class="at">fill =</span> <span class="st">&quot;Canopy_HLI&quot;</span></span>
<span id="cb12-65"><a href="sample_canopycov_hli.html#cb12-65" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">+</span></span>
<span id="cb12-66"><a href="sample_canopycov_hli.html#cb12-66" aria-hidden="true" tabindex="-1"></a>      <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb12-67"><a href="sample_canopycov_hli.html#cb12-67" aria-hidden="true" tabindex="-1"></a>      <span class="fu">theme</span>(</span>
<span id="cb12-68"><a href="sample_canopycov_hli.html#cb12-68" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">&quot;top&quot;</span></span>
<span id="cb12-69"><a href="sample_canopycov_hli.html#cb12-69" aria-hidden="true" tabindex="-1"></a>        , <span class="at">legend.direction =</span> <span class="st">&quot;horizontal&quot;</span></span>
<span id="cb12-70"><a href="sample_canopycov_hli.html#cb12-70" aria-hidden="true" tabindex="-1"></a>        , <span class="at">legend.margin =</span> <span class="fu">margin</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>)</span>
<span id="cb12-71"><a href="sample_canopycov_hli.html#cb12-71" aria-hidden="true" tabindex="-1"></a>        <span class="co"># , legend.box.margin = margin(-21,0,2,0)</span></span>
<span id="cb12-72"><a href="sample_canopycov_hli.html#cb12-72" aria-hidden="true" tabindex="-1"></a>        , <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>)</span>
<span id="cb12-73"><a href="sample_canopycov_hli.html#cb12-73" aria-hidden="true" tabindex="-1"></a>        , <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>)</span>
<span id="cb12-74"><a href="sample_canopycov_hli.html#cb12-74" aria-hidden="true" tabindex="-1"></a>        , <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>)</span>
<span id="cb12-75"><a href="sample_canopycov_hli.html#cb12-75" aria-hidden="true" tabindex="-1"></a>        , <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>, <span class="at">angle =</span> <span class="dv">35</span>, <span class="at">hjust =</span> <span class="fl">0.7</span>)</span>
<span id="cb12-76"><a href="sample_canopycov_hli.html#cb12-76" aria-hidden="true" tabindex="-1"></a>        , <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>, <span class="at">margin =</span> <span class="fu">margin</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">2</span>,<span class="dv">0</span>))</span>
<span id="cb12-77"><a href="sample_canopycov_hli.html#cb12-77" aria-hidden="true" tabindex="-1"></a>        , <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">8</span>, <span class="at">face=</span><span class="st">&quot;italic&quot;</span>, <span class="at">color=</span><span class="st">&quot;orangered&quot;</span>, <span class="at">margin =</span> <span class="fu">margin</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>))</span>
<span id="cb12-78"><a href="sample_canopycov_hli.html#cb12-78" aria-hidden="true" tabindex="-1"></a>        , <span class="at">panel.border =</span> <span class="fu">element_blank</span>()</span>
<span id="cb12-79"><a href="sample_canopycov_hli.html#cb12-79" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">+</span> </span>
<span id="cb12-80"><a href="sample_canopycov_hli.html#cb12-80" aria-hidden="true" tabindex="-1"></a>      <span class="fu">guides</span>(<span class="at">fill=</span><span class="fu">guide_legend</span>(<span class="at">nrow=</span><span class="dv">3</span>,<span class="at">byrow=</span><span class="cn">TRUE</span>))</span></code></pre></div>
<p><img src="bhef_rxfire_plan_files/figure-html/class-combine-1.png" width="960" /></p>
</div>
<div id="example-rx-fire-unit" class="section level3 hasAnchor" number="5.5.5">
<h3><span class="header-section-number">5.5.5</span> Example Rx Fire Unit<a href="sample_canopycov_hli.html#example-rx-fire-unit" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="sample_canopycov_hli.html#cb13-1" aria-hidden="true" tabindex="-1"></a>unit_temp <span class="ot">&lt;-</span> <span class="st">&quot;22&quot;</span></span>
<span id="cb13-2"><a href="sample_canopycov_hli.html#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="co"># plot</span></span>
<span id="cb13-3"><a href="sample_canopycov_hli.html#cb13-3" aria-hidden="true" tabindex="-1"></a>   concat_sf <span class="sc">%&gt;%</span> </span>
<span id="cb13-4"><a href="sample_canopycov_hli.html#cb13-4" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(crowncov_hli_filter<span class="sc">!=</span><span class="st">&quot;other&quot;</span> <span class="sc">&amp;</span> rx_fire_unit<span class="sc">==</span>unit_temp) <span class="sc">%&gt;%</span> </span>
<span id="cb13-5"><a href="sample_canopycov_hli.html#cb13-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb13-6"><a href="sample_canopycov_hli.html#cb13-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_tile</span>(<span class="fu">aes</span>(<span class="at">x=</span>x,<span class="at">y=</span>y,<span class="at">fill=</span>crowncov_hli_filter)) <span class="sc">+</span></span>
<span id="cb13-7"><a href="sample_canopycov_hli.html#cb13-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_sf</span>(<span class="at">size =</span> <span class="fl">0.2</span>, <span class="at">color =</span> <span class="st">&quot;gray22&quot;</span>) <span class="sc">+</span></span>
<span id="cb13-8"><a href="sample_canopycov_hli.html#cb13-8" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_sf</span>(<span class="at">data =</span> rx_fire <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(unit<span class="sc">==</span>unit_temp)</span>
<span id="cb13-9"><a href="sample_canopycov_hli.html#cb13-9" aria-hidden="true" tabindex="-1"></a>              , <span class="at">alpha =</span> <span class="dv">0</span>, <span class="at">lwd =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">&quot;orangered&quot;</span></span>
<span id="cb13-10"><a href="sample_canopycov_hli.html#cb13-10" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">+</span></span>
<span id="cb13-11"><a href="sample_canopycov_hli.html#cb13-11" aria-hidden="true" tabindex="-1"></a>      <span class="fu">coord_sf</span>(<span class="at">expand =</span> F) <span class="sc">+</span></span>
<span id="cb13-12"><a href="sample_canopycov_hli.html#cb13-12" aria-hidden="true" tabindex="-1"></a>      <span class="fu">scale_fill_viridis_d</span>(<span class="at">option =</span> <span class="st">&quot;turbo&quot;</span>, <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span> </span>
<span id="cb13-13"><a href="sample_canopycov_hli.html#cb13-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">scale_x_continuous</span>(<span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb13-14"><a href="sample_canopycov_hli.html#cb13-14" aria-hidden="true" tabindex="-1"></a>      <span class="fu">scale_y_continuous</span>(<span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb13-15"><a href="sample_canopycov_hli.html#cb13-15" aria-hidden="true" tabindex="-1"></a>      <span class="fu">labs</span>(</span>
<span id="cb13-16"><a href="sample_canopycov_hli.html#cb13-16" aria-hidden="true" tabindex="-1"></a>          <span class="at">title =</span> <span class="st">&quot;Canopy Cover (1=low,3=med,5=hi)</span><span class="sc">\n</span><span class="st">x HLI (1=low,3=med,5=hi)&quot;</span></span>
<span id="cb13-17"><a href="sample_canopycov_hli.html#cb13-17" aria-hidden="true" tabindex="-1"></a>          , <span class="at">subtitle =</span> <span class="fu">paste0</span>(<span class="st">&quot;Rx fire unit &quot;</span>, unit_temp)</span>
<span id="cb13-18"><a href="sample_canopycov_hli.html#cb13-18" aria-hidden="true" tabindex="-1"></a>          , <span class="at">x=</span><span class="st">&quot;&quot;</span></span>
<span id="cb13-19"><a href="sample_canopycov_hli.html#cb13-19" aria-hidden="true" tabindex="-1"></a>          , <span class="at">y=</span><span class="st">&quot;&quot;</span></span>
<span id="cb13-20"><a href="sample_canopycov_hli.html#cb13-20" aria-hidden="true" tabindex="-1"></a>          , <span class="at">fill =</span> <span class="st">&quot;Canopy_HLI&quot;</span></span>
<span id="cb13-21"><a href="sample_canopycov_hli.html#cb13-21" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">+</span></span>
<span id="cb13-22"><a href="sample_canopycov_hli.html#cb13-22" aria-hidden="true" tabindex="-1"></a>      <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb13-23"><a href="sample_canopycov_hli.html#cb13-23" aria-hidden="true" tabindex="-1"></a>      <span class="fu">theme</span>(</span>
<span id="cb13-24"><a href="sample_canopycov_hli.html#cb13-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">&quot;top&quot;</span></span>
<span id="cb13-25"><a href="sample_canopycov_hli.html#cb13-25" aria-hidden="true" tabindex="-1"></a>        , <span class="at">legend.direction =</span> <span class="st">&quot;horizontal&quot;</span></span>
<span id="cb13-26"><a href="sample_canopycov_hli.html#cb13-26" aria-hidden="true" tabindex="-1"></a>        , <span class="at">legend.margin =</span> <span class="fu">margin</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>)</span>
<span id="cb13-27"><a href="sample_canopycov_hli.html#cb13-27" aria-hidden="true" tabindex="-1"></a>        <span class="co"># , legend.box.margin = margin(-21,0,2,0)</span></span>
<span id="cb13-28"><a href="sample_canopycov_hli.html#cb13-28" aria-hidden="true" tabindex="-1"></a>        , <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>)</span>
<span id="cb13-29"><a href="sample_canopycov_hli.html#cb13-29" aria-hidden="true" tabindex="-1"></a>        , <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>)</span>
<span id="cb13-30"><a href="sample_canopycov_hli.html#cb13-30" aria-hidden="true" tabindex="-1"></a>        , <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>)</span>
<span id="cb13-31"><a href="sample_canopycov_hli.html#cb13-31" aria-hidden="true" tabindex="-1"></a>        , <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>, <span class="at">angle =</span> <span class="dv">35</span>, <span class="at">hjust =</span> <span class="fl">0.7</span>)</span>
<span id="cb13-32"><a href="sample_canopycov_hli.html#cb13-32" aria-hidden="true" tabindex="-1"></a>        , <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>, <span class="at">margin =</span> <span class="fu">margin</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">2</span>,<span class="dv">0</span>))</span>
<span id="cb13-33"><a href="sample_canopycov_hli.html#cb13-33" aria-hidden="true" tabindex="-1"></a>        , <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">8</span>, <span class="at">face=</span><span class="st">&quot;italic&quot;</span>, <span class="at">color=</span><span class="st">&quot;orangered&quot;</span>, <span class="at">margin =</span> <span class="fu">margin</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>))</span>
<span id="cb13-34"><a href="sample_canopycov_hli.html#cb13-34" aria-hidden="true" tabindex="-1"></a>        , <span class="at">panel.border =</span> <span class="fu">element_blank</span>()</span>
<span id="cb13-35"><a href="sample_canopycov_hli.html#cb13-35" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">+</span> </span>
<span id="cb13-36"><a href="sample_canopycov_hli.html#cb13-36" aria-hidden="true" tabindex="-1"></a>      <span class="fu">guides</span>(<span class="at">fill=</span><span class="fu">guide_legend</span>(<span class="at">nrow=</span><span class="dv">3</span>,<span class="at">byrow=</span><span class="cn">TRUE</span>))</span></code></pre></div>
<p><img src="bhef_rxfire_plan_files/figure-html/ex-covhli-1.png" width="960" /></p>
</div>
<div id="distribution-of-canopy-cover-and-hli-by-rx-fire-unit" class="section level3 hasAnchor" number="5.5.6">
<h3><span class="header-section-number">5.5.6</span> Distribution of Canopy Cover and HLI by Rx Fire Unit<a href="sample_canopycov_hli.html#distribution-of-canopy-cover-and-hli-by-rx-fire-unit" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="sample_canopycov_hli.html#cb14-1" aria-hidden="true" tabindex="-1"></a>dist_temp <span class="ot">&lt;-</span> </span>
<span id="cb14-2"><a href="sample_canopycov_hli.html#cb14-2" aria-hidden="true" tabindex="-1"></a>  concat_sf <span class="sc">%&gt;%</span> </span>
<span id="cb14-3"><a href="sample_canopycov_hli.html#cb14-3" aria-hidden="true" tabindex="-1"></a>    sf<span class="sc">::</span><span class="fu">st_drop_geometry</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb14-4"><a href="sample_canopycov_hli.html#cb14-4" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">count</span>(rx_fire_unit, crowncov_hli_filter) <span class="sc">%&gt;%</span> </span>
<span id="cb14-5"><a href="sample_canopycov_hli.html#cb14-5" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">group_by</span>(rx_fire_unit) <span class="sc">%&gt;%</span> </span>
<span id="cb14-6"><a href="sample_canopycov_hli.html#cb14-6" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb14-7"><a href="sample_canopycov_hli.html#cb14-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">pct =</span> n<span class="sc">/</span><span class="fu">sum</span>(n)</span>
<span id="cb14-8"><a href="sample_canopycov_hli.html#cb14-8" aria-hidden="true" tabindex="-1"></a>      , <span class="at">tot =</span> <span class="fu">sum</span>(n)</span>
<span id="cb14-9"><a href="sample_canopycov_hli.html#cb14-9" aria-hidden="true" tabindex="-1"></a>      , <span class="at">crowncov_hli_filter =</span> crowncov_hli_filter <span class="sc">%&gt;%</span> forcats<span class="sc">::</span><span class="fu">fct_rev</span>()</span>
<span id="cb14-10"><a href="sample_canopycov_hli.html#cb14-10" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb14-11"><a href="sample_canopycov_hli.html#cb14-11" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">ungroup</span>()</span>
<span id="cb14-12"><a href="sample_canopycov_hli.html#cb14-12" aria-hidden="true" tabindex="-1"></a><span class="co"># plot</span></span>
<span id="cb14-13"><a href="sample_canopycov_hli.html#cb14-13" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>dist_temp) <span class="sc">+</span></span>
<span id="cb14-14"><a href="sample_canopycov_hli.html#cb14-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(</span>
<span id="cb14-15"><a href="sample_canopycov_hli.html#cb14-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> pct, <span class="at">y =</span> rx_fire_unit, <span class="at">fill=</span>crowncov_hli_filter)</span>
<span id="cb14-16"><a href="sample_canopycov_hli.html#cb14-16" aria-hidden="true" tabindex="-1"></a>    ,<span class="at">width =</span> <span class="fl">0.7</span>, <span class="at">alpha=</span><span class="fl">0.8</span></span>
<span id="cb14-17"><a href="sample_canopycov_hli.html#cb14-17" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb14-18"><a href="sample_canopycov_hli.html#cb14-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(</span>
<span id="cb14-19"><a href="sample_canopycov_hli.html#cb14-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> pct, <span class="at">y =</span> rx_fire_unit, <span class="at">group=</span>crowncov_hli_filter</span>
<span id="cb14-20"><a href="sample_canopycov_hli.html#cb14-20" aria-hidden="true" tabindex="-1"></a>        ,<span class="at">label =</span> scales<span class="sc">::</span><span class="fu">percent</span>(<span class="fu">ifelse</span>(pct<span class="sc">&gt;=</span><span class="fl">0.05</span>,pct,<span class="cn">NA</span>), <span class="at">accuracy =</span> <span class="dv">1</span>)</span>
<span id="cb14-21"><a href="sample_canopycov_hli.html#cb14-21" aria-hidden="true" tabindex="-1"></a>        , <span class="at">fontface =</span> <span class="st">&quot;bold&quot;</span></span>
<span id="cb14-22"><a href="sample_canopycov_hli.html#cb14-22" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb14-23"><a href="sample_canopycov_hli.html#cb14-23" aria-hidden="true" tabindex="-1"></a>    , <span class="at">position =</span> <span class="fu">position_stack</span>(<span class="at">vjust =</span> <span class="fl">0.5</span>)</span>
<span id="cb14-24"><a href="sample_canopycov_hli.html#cb14-24" aria-hidden="true" tabindex="-1"></a>    , <span class="at">color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">size =</span> <span class="fl">2.8</span></span>
<span id="cb14-25"><a href="sample_canopycov_hli.html#cb14-25" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb14-26"><a href="sample_canopycov_hli.html#cb14-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(</span>
<span id="cb14-27"><a href="sample_canopycov_hli.html#cb14-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> dist_temp <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">group_by</span>(rx_fire_unit) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(dplyr<span class="sc">::</span><span class="fu">row_number</span>()<span class="sc">==</span><span class="dv">1</span>)</span>
<span id="cb14-28"><a href="sample_canopycov_hli.html#cb14-28" aria-hidden="true" tabindex="-1"></a>    , <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> <span class="sc">-</span><span class="fl">0.02</span>, <span class="at">y =</span> rx_fire_unit</span>
<span id="cb14-29"><a href="sample_canopycov_hli.html#cb14-29" aria-hidden="true" tabindex="-1"></a>        ,<span class="at">label =</span> </span>
<span id="cb14-30"><a href="sample_canopycov_hli.html#cb14-30" aria-hidden="true" tabindex="-1"></a>          <span class="fu">paste0</span>(<span class="st">&quot;n=&quot;</span></span>
<span id="cb14-31"><a href="sample_canopycov_hli.html#cb14-31" aria-hidden="true" tabindex="-1"></a>            ,scales<span class="sc">::</span><span class="fu">comma</span>(tot, <span class="at">accuracy =</span> <span class="dv">1</span>)</span>
<span id="cb14-32"><a href="sample_canopycov_hli.html#cb14-32" aria-hidden="true" tabindex="-1"></a>          )</span>
<span id="cb14-33"><a href="sample_canopycov_hli.html#cb14-33" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb14-34"><a href="sample_canopycov_hli.html#cb14-34" aria-hidden="true" tabindex="-1"></a>      , <span class="at">size =</span> <span class="dv">3</span></span>
<span id="cb14-35"><a href="sample_canopycov_hli.html#cb14-35" aria-hidden="true" tabindex="-1"></a>      , <span class="at">color =</span> <span class="st">&quot;black&quot;</span></span>
<span id="cb14-36"><a href="sample_canopycov_hli.html#cb14-36" aria-hidden="true" tabindex="-1"></a>      , <span class="at">hjust =</span> <span class="fl">0.7</span></span>
<span id="cb14-37"><a href="sample_canopycov_hli.html#cb14-37" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb14-38"><a href="sample_canopycov_hli.html#cb14-38" aria-hidden="true" tabindex="-1"></a>  <span class="co"># scale_fill_brewer(type = &quot;div&quot;, palette = &quot;RdYlBu&quot;, direction = -1) +</span></span>
<span id="cb14-39"><a href="sample_canopycov_hli.html#cb14-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">rev</span>(<span class="fu">c</span>(</span>
<span id="cb14-40"><a href="sample_canopycov_hli.html#cb14-40" aria-hidden="true" tabindex="-1"></a>    viridis<span class="sc">::</span><span class="fu">turbo</span>(</span>
<span id="cb14-41"><a href="sample_canopycov_hli.html#cb14-41" aria-hidden="true" tabindex="-1"></a>      <span class="at">n=</span> ((dist_temp <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">count</span>(crowncov_hli_filter) <span class="sc">%&gt;%</span> <span class="fu">nrow</span>())<span class="sc">-</span><span class="dv">1</span>)</span>
<span id="cb14-42"><a href="sample_canopycov_hli.html#cb14-42" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb14-43"><a href="sample_canopycov_hli.html#cb14-43" aria-hidden="true" tabindex="-1"></a>    , <span class="st">&quot;gray&quot;</span></span>
<span id="cb14-44"><a href="sample_canopycov_hli.html#cb14-44" aria-hidden="true" tabindex="-1"></a>  ))) <span class="sc">+</span></span>
<span id="cb14-45"><a href="sample_canopycov_hli.html#cb14-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">percent_format</span>()) <span class="sc">+</span></span>
<span id="cb14-46"><a href="sample_canopycov_hli.html#cb14-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb14-47"><a href="sample_canopycov_hli.html#cb14-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Canopy Cover (1=low,3=med,5=hi)</span><span class="sc">\n</span><span class="st">x HLI (1=low,3=med,5=hi)&quot;</span></span>
<span id="cb14-48"><a href="sample_canopycov_hli.html#cb14-48" aria-hidden="true" tabindex="-1"></a>    , <span class="at">fill =</span> <span class="st">&quot;Canopy_HLI&quot;</span></span>
<span id="cb14-49"><a href="sample_canopycov_hli.html#cb14-49" aria-hidden="true" tabindex="-1"></a>    , <span class="at">y =</span> <span class="st">&quot;Rx Fire Unit&quot;</span></span>
<span id="cb14-50"><a href="sample_canopycov_hli.html#cb14-50" aria-hidden="true" tabindex="-1"></a>    , <span class="at">x =</span> latex2exp<span class="sc">::</span><span class="fu">TeX</span>(<span class="fu">paste0</span>(<span class="st">&quot;% of Sample Plots (&quot;</span>, agg_res,<span class="st">&quot;$</span><span class="sc">\\</span><span class="st">textrm{m}^2$&quot;</span>,<span class="st">&quot;)&quot;</span>))</span>
<span id="cb14-51"><a href="sample_canopycov_hli.html#cb14-51" aria-hidden="true" tabindex="-1"></a>    <span class="co"># , caption = nlab_temp</span></span>
<span id="cb14-52"><a href="sample_canopycov_hli.html#cb14-52" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb14-53"><a href="sample_canopycov_hli.html#cb14-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb14-54"><a href="sample_canopycov_hli.html#cb14-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb14-55"><a href="sample_canopycov_hli.html#cb14-55" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">&quot;top&quot;</span></span>
<span id="cb14-56"><a href="sample_canopycov_hli.html#cb14-56" aria-hidden="true" tabindex="-1"></a>    , <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">7</span>)</span>
<span id="cb14-57"><a href="sample_canopycov_hli.html#cb14-57" aria-hidden="true" tabindex="-1"></a>    , <span class="at">legend.direction =</span> <span class="st">&quot;horizontal&quot;</span></span>
<span id="cb14-58"><a href="sample_canopycov_hli.html#cb14-58" aria-hidden="true" tabindex="-1"></a>    , <span class="at">legend.margin =</span> <span class="fu">margin</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>)</span>
<span id="cb14-59"><a href="sample_canopycov_hli.html#cb14-59" aria-hidden="true" tabindex="-1"></a>    , <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">9</span>)</span>
<span id="cb14-60"><a href="sample_canopycov_hli.html#cb14-60" aria-hidden="true" tabindex="-1"></a>    , <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">7</span>)</span>
<span id="cb14-61"><a href="sample_canopycov_hli.html#cb14-61" aria-hidden="true" tabindex="-1"></a>    , <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>)</span>
<span id="cb14-62"><a href="sample_canopycov_hli.html#cb14-62" aria-hidden="true" tabindex="-1"></a>    , <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">9</span>)</span>
<span id="cb14-63"><a href="sample_canopycov_hli.html#cb14-63" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span> </span>
<span id="cb14-64"><a href="sample_canopycov_hli.html#cb14-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(</span>
<span id="cb14-65"><a href="sample_canopycov_hli.html#cb14-65" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="fu">guide_legend</span>(<span class="at">reverse =</span> T, <span class="at">override.aes =</span> <span class="fu">list</span>(<span class="at">alpha =</span> <span class="fl">0.9</span>), <span class="at">nrow =</span> <span class="dv">4</span>, <span class="at">byrow =</span> T)</span>
<span id="cb14-66"><a href="sample_canopycov_hli.html#cb14-66" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="bhef_rxfire_plan_files/figure-html/dist-crcov-hli-unit-1.png" width="960" /></p>
</div>
<div id="matrix-of-canopy-cover-and-hli-by-rx-fire-unit" class="section level3 hasAnchor" number="5.5.7">
<h3><span class="header-section-number">5.5.7</span> Matrix of Canopy Cover and HLI by Rx Fire Unit<a href="sample_canopycov_hli.html#matrix-of-canopy-cover-and-hli-by-rx-fire-unit" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="sample_canopycov_hli.html#cb15-1" aria-hidden="true" tabindex="-1"></a>concat_sf <span class="sc">%&gt;%</span> </span>
<span id="cb15-2"><a href="sample_canopycov_hli.html#cb15-2" aria-hidden="true" tabindex="-1"></a>    sf<span class="sc">::</span><span class="fu">st_drop_geometry</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb15-3"><a href="sample_canopycov_hli.html#cb15-3" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(crowncov_hli_filter<span class="sc">!=</span><span class="st">&quot;other&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb15-4"><a href="sample_canopycov_hli.html#cb15-4" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">count</span>(rx_fire_unit, crowncov_grp, hli_grp, crowncov_hli_filter) <span class="sc">%&gt;%</span> </span>
<span id="cb15-5"><a href="sample_canopycov_hli.html#cb15-5" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">group_by</span>(rx_fire_unit) <span class="sc">%&gt;%</span> </span>
<span id="cb15-6"><a href="sample_canopycov_hli.html#cb15-6" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb15-7"><a href="sample_canopycov_hli.html#cb15-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">pct =</span> n<span class="sc">/</span><span class="fu">sum</span>(n)</span>
<span id="cb15-8"><a href="sample_canopycov_hli.html#cb15-8" aria-hidden="true" tabindex="-1"></a>      , <span class="at">tot =</span> <span class="fu">sum</span>(n)</span>
<span id="cb15-9"><a href="sample_canopycov_hli.html#cb15-9" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb15-10"><a href="sample_canopycov_hli.html#cb15-10" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb15-11"><a href="sample_canopycov_hli.html#cb15-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># dplyr::filter(rx_fire_unit %in% c(&quot;1&quot;,&quot;11&quot;,&quot;22&quot;)) %&gt;%</span></span>
<span id="cb15-12"><a href="sample_canopycov_hli.html#cb15-12" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">rx_fire_unit =</span> <span class="fu">paste0</span>(<span class="st">&quot;unit &quot;</span>,rx_fire_unit)) <span class="sc">%&gt;%</span></span>
<span id="cb15-13"><a href="sample_canopycov_hli.html#cb15-13" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb15-14"><a href="sample_canopycov_hli.html#cb15-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">y =</span> crowncov_grp, <span class="at">x =</span> hli_grp)</span>
<span id="cb15-15"><a href="sample_canopycov_hli.html#cb15-15" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb15-16"><a href="sample_canopycov_hli.html#cb15-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_tile</span>(<span class="fu">aes</span>(<span class="at">fill =</span> crowncov_hli_filter), <span class="at">color =</span> <span class="st">&quot;white&quot;</span>,<span class="at">alpha=</span><span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb15-17"><a href="sample_canopycov_hli.html#cb15-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> scales<span class="sc">::</span><span class="fu">comma</span>(n,<span class="at">accuracy=</span><span class="dv">1</span>), <span class="at">fontface=</span><span class="st">&quot;bold&quot;</span>), <span class="at">vjust =</span> <span class="fl">0.5</span>,<span class="at">size =</span> <span class="fl">3.5</span>) <span class="sc">+</span></span>
<span id="cb15-18"><a href="sample_canopycov_hli.html#cb15-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> scales<span class="sc">::</span><span class="fu">percent</span>(pct,<span class="at">accuracy=</span><span class="fl">0.1</span>)), <span class="at">vjust =</span> <span class="fl">0.5</span>, <span class="at">hjust=</span><span class="sc">-</span><span class="fl">0.55</span>,<span class="at">size =</span> <span class="fl">2.5</span>) <span class="sc">+</span></span>
<span id="cb15-19"><a href="sample_canopycov_hli.html#cb15-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(</span>
<span id="cb15-20"><a href="sample_canopycov_hli.html#cb15-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">rows =</span> <span class="fu">vars</span>(rx_fire_unit)</span>
<span id="cb15-21"><a href="sample_canopycov_hli.html#cb15-21" aria-hidden="true" tabindex="-1"></a>    <span class="co"># , switch = &quot;y&quot;</span></span>
<span id="cb15-22"><a href="sample_canopycov_hli.html#cb15-22" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb15-23"><a href="sample_canopycov_hli.html#cb15-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_d</span>(<span class="at">option =</span> <span class="st">&quot;turbo&quot;</span>) <span class="sc">+</span></span>
<span id="cb15-24"><a href="sample_canopycov_hli.html#cb15-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">position =</span> <span class="st">&quot;top&quot;</span>) <span class="sc">+</span></span>
<span id="cb15-25"><a href="sample_canopycov_hli.html#cb15-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_discrete</span>(<span class="at">limits =</span> rev) <span class="sc">+</span></span>
<span id="cb15-26"><a href="sample_canopycov_hli.html#cb15-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb15-27"><a href="sample_canopycov_hli.html#cb15-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Canopy Cover&quot;</span></span>
<span id="cb15-28"><a href="sample_canopycov_hli.html#cb15-28" aria-hidden="true" tabindex="-1"></a>    , <span class="at">x =</span> <span class="st">&quot;HLI&quot;</span></span>
<span id="cb15-29"><a href="sample_canopycov_hli.html#cb15-29" aria-hidden="true" tabindex="-1"></a>    , <span class="at">title =</span> latex2exp<span class="sc">::</span><span class="fu">TeX</span>(<span class="fu">paste0</span>(<span class="st">&quot;Matrix of Sample Plots (&quot;</span>, agg_res,<span class="st">&quot;$</span><span class="sc">\\</span><span class="st">textrm{m}^2$&quot;</span>,<span class="st">&quot;)&quot;</span>))</span>
<span id="cb15-30"><a href="sample_canopycov_hli.html#cb15-30" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb15-31"><a href="sample_canopycov_hli.html#cb15-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_light</span>() <span class="sc">+</span> </span>
<span id="cb15-32"><a href="sample_canopycov_hli.html#cb15-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb15-33"><a href="sample_canopycov_hli.html#cb15-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span></span>
<span id="cb15-34"><a href="sample_canopycov_hli.html#cb15-34" aria-hidden="true" tabindex="-1"></a>    , <span class="at">panel.grid =</span> <span class="fu">element_blank</span>()</span>
<span id="cb15-35"><a href="sample_canopycov_hli.html#cb15-35" aria-hidden="true" tabindex="-1"></a>    , <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">9</span>)</span>
<span id="cb15-36"><a href="sample_canopycov_hli.html#cb15-36" aria-hidden="true" tabindex="-1"></a>    , <span class="at">strip.text.y =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">0</span>)</span>
<span id="cb15-37"><a href="sample_canopycov_hli.html#cb15-37" aria-hidden="true" tabindex="-1"></a>    , <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>, <span class="at">size =</span> <span class="dv">12</span>)</span>
<span id="cb15-38"><a href="sample_canopycov_hli.html#cb15-38" aria-hidden="true" tabindex="-1"></a>    <span class="co"># , strip.placement = &quot;outside&quot;</span></span>
<span id="cb15-39"><a href="sample_canopycov_hli.html#cb15-39" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="bhef_rxfire_plan_files/figure-html/matrix-crcov-hli-unit-1.png" width="960" /></p>
<p>The figure above excludes plots with a classification other than the Canopy Cover and HLI classes shown (e.g. HLI = med. low, Canopy Cover = med. high).</p>
</div>
</div>
<div id="sample-order-and-export" class="section level2 hasAnchor" number="5.6">
<h2><span class="header-section-number">5.6</span> Sample Order and Export<a href="sample_canopycov_hli.html#sample-order-and-export" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="sample_canopycov_hli.html#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">11</span>)</span>
<span id="cb16-2"><a href="sample_canopycov_hli.html#cb16-2" aria-hidden="true" tabindex="-1"></a>concat_sf <span class="ot">&lt;-</span> concat_sf <span class="sc">%&gt;%</span></span>
<span id="cb16-3"><a href="sample_canopycov_hli.html#cb16-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb16-4"><a href="sample_canopycov_hli.html#cb16-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">relocate</span>(rx_fire_unit) <span class="sc">%&gt;%</span> </span>
<span id="cb16-5"><a href="sample_canopycov_hli.html#cb16-5" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">rand=</span><span class="fu">runif</span>(dplyr<span class="sc">::</span><span class="fu">row_number</span>())) <span class="sc">%&gt;%</span> </span>
<span id="cb16-6"><a href="sample_canopycov_hli.html#cb16-6" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(rx_fire_unit, crowncov_hli_filter, <span class="fu">desc</span>(rand)) <span class="sc">%&gt;%</span> </span>
<span id="cb16-7"><a href="sample_canopycov_hli.html#cb16-7" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(rx_fire_unit, crowncov_hli_filter) <span class="sc">%&gt;%</span> </span>
<span id="cb16-8"><a href="sample_canopycov_hli.html#cb16-8" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">sample_number =</span> dplyr<span class="sc">::</span><span class="fu">row_number</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb16-9"><a href="sample_canopycov_hli.html#cb16-9" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(rand)) <span class="sc">%&gt;%</span> </span>
<span id="cb16-10"><a href="sample_canopycov_hli.html#cb16-10" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">ungroup</span>()</span>
<span id="cb16-11"><a href="sample_canopycov_hli.html#cb16-11" aria-hidden="true" tabindex="-1"></a><span class="co"># export</span></span>
<span id="cb16-12"><a href="sample_canopycov_hli.html#cb16-12" aria-hidden="true" tabindex="-1"></a>sf<span class="sc">::</span><span class="fu">st_write</span>(</span>
<span id="cb16-13"><a href="sample_canopycov_hli.html#cb16-13" aria-hidden="true" tabindex="-1"></a>  concat_sf <span class="sc">%&gt;%</span> </span>
<span id="cb16-14"><a href="sample_canopycov_hli.html#cb16-14" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(</span>
<span id="cb16-15"><a href="sample_canopycov_hli.html#cb16-15" aria-hidden="true" tabindex="-1"></a>      crowncov_hli_filter<span class="sc">!=</span><span class="st">&quot;other&quot;</span></span>
<span id="cb16-16"><a href="sample_canopycov_hli.html#cb16-16" aria-hidden="true" tabindex="-1"></a>      <span class="sc">&amp;</span> sample_number <span class="sc">&lt;=</span> <span class="dv">30</span></span>
<span id="cb16-17"><a href="sample_canopycov_hli.html#cb16-17" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb16-18"><a href="sample_canopycov_hli.html#cb16-18" aria-hidden="true" tabindex="-1"></a>  ,<span class="st">&quot;../data/bhef_rxfire_hli_canopycov_samplepoints.gpkg&quot;</span></span>
<span id="cb16-19"><a href="sample_canopycov_hli.html#cb16-19" aria-hidden="true" tabindex="-1"></a>  , <span class="at">append =</span> F</span>
<span id="cb16-20"><a href="sample_canopycov_hli.html#cb16-20" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb16-21"><a href="sample_canopycov_hli.html#cb16-21" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(</span>
<span id="cb16-22"><a href="sample_canopycov_hli.html#cb16-22" aria-hidden="true" tabindex="-1"></a>  concat_sf <span class="sc">%&gt;%</span> </span>
<span id="cb16-23"><a href="sample_canopycov_hli.html#cb16-23" aria-hidden="true" tabindex="-1"></a>    sf<span class="sc">::</span><span class="fu">st_drop_geometry</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb16-24"><a href="sample_canopycov_hli.html#cb16-24" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(</span>
<span id="cb16-25"><a href="sample_canopycov_hli.html#cb16-25" aria-hidden="true" tabindex="-1"></a>      crowncov_hli_filter<span class="sc">!=</span><span class="st">&quot;other&quot;</span></span>
<span id="cb16-26"><a href="sample_canopycov_hli.html#cb16-26" aria-hidden="true" tabindex="-1"></a>      <span class="sc">&amp;</span> sample_number <span class="sc">&lt;=</span> <span class="dv">30</span></span>
<span id="cb16-27"><a href="sample_canopycov_hli.html#cb16-27" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb16-28"><a href="sample_canopycov_hli.html#cb16-28" aria-hidden="true" tabindex="-1"></a>  ,<span class="st">&quot;../data/bhef_rxfire_hli_canopycov_samplepoints.csv&quot;</span></span>
<span id="cb16-29"><a href="sample_canopycov_hli.html#cb16-29" aria-hidden="true" tabindex="-1"></a>  , <span class="at">append =</span> F</span>
<span id="cb16-30"><a href="sample_canopycov_hli.html#cb16-30" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="cover_analysis.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
